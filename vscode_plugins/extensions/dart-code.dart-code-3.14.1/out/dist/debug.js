module.exports=function(e){var t={};function s(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=267)}([,function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSlashes=t.areSameFolder=t.mkDirRecursive=t.getRandomInt=t.tryDeleteFile=t.findProjectFolders=t.isFlutterRepoAsync=t.hasCreateTriggerFileAsync=t.hasPubspecAsync=t.hasPubspec=t.hasPackagesFile=t.readDirAsync=t.getChildFolders=t.isWithinPath=t.forceWindowsDriveLetterToUppercase=t.fsPath=void 0;const i=s(5),n=s(2),o=s(4),a=s(3),c=s(21);function l(e){return e&&o.isWin&&n.isAbsolute(e)&&e.charAt(0)===e.charAt(0).toLowerCase()&&(e=e.substr(0,1).toUpperCase()+e.substr(1)),e}function u(e,t){return r(this,void 0,void 0,(function*(){if(!i.existsSync(e))return[];return(yield h(e)).filter(e=>e.isDirectory()).filter(e=>"bin"!==e.name||t&&t.allowBin).filter(e=>"cache"!==e.name||t&&t.allowCache).map(t=>n.join(e,t.name))}))}function h(e){return new Promise((t,s)=>i.readdir(e,{withFileTypes:!0},(e,r)=>{e?s(e):t(r)}))}function d(e){return r(this,void 0,void 0,(function*(){return yield f(n.join(e,"pubspec.yaml"))}))}function p(e){return r(this,void 0,void 0,(function*(){return yield f(n.join(e,o.FLUTTER_CREATE_PROJECT_TRIGGER_FILE))}))}function g(e){return r(this,void 0,void 0,(function*(){return(yield f(n.join(e,"bin/flutter")))&&(yield f(n.join(e,"bin/cache/dart-sdk")))}))}function f(e){return r(this,void 0,void 0,(function*(){try{return yield i.promises.access(e),!0}catch(e){return!1}}))}t.fsPath=function(e){return l("string"==typeof e?e:e.fsPath)},t.forceWindowsDriveLetterToUppercase=l,t.isWithinPath=function(e,t){const s=n.relative(t,e);return!!s&&!s.startsWith("..")&&!n.isAbsolute(s)},t.getChildFolders=u,t.readDirAsync=h,t.hasPackagesFile=function(e){return i.existsSync(n.join(e,".packages"))},t.hasPubspec=function(e){return i.existsSync(n.join(e,"pubspec.yaml"))},t.hasPubspecAsync=d,t.hasCreateTriggerFileAsync=p,t.isFlutterRepoAsync=g,t.findProjectFolders=function(e,t={}){return r(this,void 0,void 0,(function*(){const s=yield a.flatMapAsync(e,u),i=yield a.flatMapAsync(s,u),n=e.concat(s).concat(i).map(e=>r(this,void 0,void 0,(function*(){return{exists:t&&t.requirePubspec?yield d(e):(yield d(e))||(yield p(e))||(yield g(e)),folder:e}}))),o=(yield Promise.all(n)).filter(e=>e.exists).map(e=>e.folder);return t&&t.sort?c.sortBy(o,e=>e.toLowerCase()):o}))},t.tryDeleteFile=function(e){if(i.existsSync(e))try{i.unlinkSync(e)}catch(e){console.warn("Failed to delete file $path.")}},t.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},t.mkDirRecursive=function e(t){const s=n.dirname(t);i.existsSync(s)||e(s),i.existsSync(t)||i.mkdirSync(t)},t.areSameFolder=function(e,t){return(e=e.replace(/[\\/]+$/,""))===(t=t.replace(/[\\/]+$/,""))},t.normalizeSlashes=function(e){return e.replace(/[\\/]/g,n.sep)}},function(e,t){e.exports=require("path")},function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.escapeDartString=t.generateTestNameFromFileName=t.clamp=t.asHex=t.asHexColor=t.notUndefined=t.BufferedLogger=t.errorString=t.usingCustomScript=t.isStableSdk=t.pubVersionIsAtLeast=t.versionIsAtLeast=t.isDartSdkFromFlutter=t.uriToFilePath=t.findFileInAncestor=t.PromiseCompleter=t.escapeRegExp=t.filenameSafe=t.flatMapAsync=t.flatMap=t.uniq=void 0;const i=s(5),n=s(2),o=s(67),a=s(4);t.uniq=function(e){return e.filter((t,s)=>e.indexOf(t)===s)},t.flatMap=function(e,t){return e.reduce((e,s)=>e.concat(t(s)),[])},t.flatMapAsync=function(e,t){return r(this,void 0,void 0,(function*(){let s=[];for(const r of e)s=s.concat(yield t(r));return s}))},t.filenameSafe=function(e){return e.replace(/[^a-z0-9]+/gi,"_").toLowerCase()},t.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};function c(e,t){return o.gte(e,t)}t.PromiseCompleter=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}},t.findFileInAncestor=function(e,t){let s,r=t;for(;r&&r.length>1&&r!==s;){for(const t of e){const e=n.join(r,t);if(i.existsSync(e))return e}s=r,r=n.dirname(r)}},t.uriToFilePath=function(e,t=a.isWin){let s=e;return e.startsWith("file://")?s=decodeURI(e.substring(7)):e.startsWith("file:")&&(s=decodeURI(e.substring(5))),t?(s=s.replace(/\//g,"\\"),"\\"===s[0]&&(s=s.substring(1))):"/"!==s[0]&&(s="/"+s),s},t.isDartSdkFromFlutter=function(e){const t=n.join(n.dirname(n.dirname(n.dirname(e))),"bin");return i.existsSync(n.join(t,a.flutterExecutableName))},t.versionIsAtLeast=c,t.pubVersionIsAtLeast=function(e,t){return!!o.gt(e,t)||!o.lt(e,t)&&(-1!==e.indexOf("+")&&-1===t.indexOf("+")||(-1!==e.indexOf("+")||-1===t.indexOf("+"))&&c(e=e.replace("+",-1===e.indexOf("-")?"-":"."),t=t.replace("+",-1===t.indexOf("-")?"-":".")))},t.isStableSdk=function(e){return!(!e||o.prerelease(e))},t.usingCustomScript=function(e,t,s){return s&&(e=s.script,t=t.slice(s.replacesArgs)),{binPath:e,binArgs:t}},t.errorString=function(e){return e?e instanceof Error?e.message+(e.stack?"\n"+e.stack:""):"string"==typeof e?e:e.message||"<empty error message>":"<empty error>"};function l(e){return Math.round(e).toString(16).padStart(2,"0")}function u(e,t,s){return Math.min(Math.max(t,e),s)}t.BufferedLogger=class{constructor(){this.buffer=[]}info(e,t){this.buffer.push({type:"info",message:e,category:t})}warn(e,t){this.buffer.push({type:"warn",message:e,category:t})}error(e,t){this.buffer.push({type:"error",message:e,category:t})}flushTo(e){if(this.buffer.length){e.info("Flushing log messages...");for(const t of this.buffer)switch(t.type){case"info":e.info(t.message,t.category);break;case"warn":e.warn(t.message,t.category);break;case"error":e.error(t.message,t.category)}e.info("Done flushing log messages...")}}},t.notUndefined=function(e){return void 0!==e},t.asHexColor=function({r:e,g:t,b:s,a:r}){return e=u(e,0,255),t=u(t,0,255),s=u(s,0,255),`${l(r=u(r,0,255))}${l(e)}${l(t)}${l(s)}`.toLowerCase()},t.asHex=l,t.clamp=u,t.generateTestNameFromFileName=function(e){return n.basename(e).replace("_test.dart","").replace(/_/g," ")},t.escapeDartString=function(e){return e.replace(/(['"\\])/g,"\\$1")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dartRecommendedConfig=t.devToolsPages=t.cancelAction=t.runFlutterCreateDotAction=t.runFlutterCreateDotPrompt=t.vmServiceHttpLinkPattern=t.vmServiceListeningBannerPattern=t.reactivateDevToolsAction=t.openSettingsAction=t.recommendedSettingsUrl=t.showRecommendedSettingsAction=t.skipAction=t.noAction=t.yesAction=t.useRecommendedSettingsPromptKey=t.installFlutterExtensionPromptKey=t.userPromptContextPrefix=t.debugAnywayAction=t.showErrorsAction=t.isInFlutterProfileModeDebugSessionContext=t.isInFlutterDebugModeDebugSessionContext=t.HAS_LAST_TEST_DEBUG_CONFIG=t.HAS_LAST_DEBUG_CONFIG=t.TRACK_WIDGET_CREATION_ENABLED=t.REFACTOR_ANYWAY=t.REFACTOR_FAILED_DOC_MODIFIED=t.FLUTTER_CREATE_PROJECT_TRIGGER_FILE=t.DART_STAGEHAND_PROJECT_TRIGGER_FILE=t.CHROME_OS_VM_SERVICE_PORT=t.CHROME_OS_DEVTOOLS_PORT=t.pleaseReportBug=t.longRepeatPromptThreshold=t.noRepeatPromptThreshold=t.fortyHoursInMs=t.twentyHoursInMs=t.twoHoursInMs=t.twentyMinutesInMs=t.tenMinutesInMs=t.fiveMinutesInMs=t.initializingFlutterMessage=t.initializeSnapPrompt=t.modifyingFilesOutsideWorkspaceInfoUrl=t.skipThisSurveyAction=t.takeSurveyAction=t.flutterSurveyAnalyticsText=t.flutterSurveyDataUrl=t.moreInfoAction=t.doNotAskAgainAction=t.notTodayAction=t.alwaysOpenAction=t.openDevToolsAction=t.wantToTryDevToolsPrompt=t.issueTrackerUri=t.issueTrackerAction=t.stagehandInstallationInstructionsUrl=t.pubGlobalDocsUrl=t.debugTerminatingProgressId=t.debugLaunchProgressId=t.restartReasonSave=t.restartReasonManual=t.showLogAction=t.stopLoggingAction=t.IS_RUNNING_LOCALLY_CONTEXT=t.PUB_OUTDATED_SUPPORTED_CONTEXT=t.DART_IS_CAPTURING_LOGS_CONTEXT=t.DART_DEP_FILE_NODE_CONTEXT=t.DART_DEP_FOLDER_NODE_CONTEXT=t.DART_DEP_PACKAGE_NODE_CONTEXT=t.DART_DEP_PROJECT_NODE_CONTEXT=t.DART_TEST_TEST_NODE_CONTEXT=t.DART_TEST_GROUP_NODE_CONTEXT=t.DART_TEST_SUITE_NODE_CONTEXT=t.IS_LSP_CONTEXT=t.FLUTTER_DOWNLOAD_URL=t.DART_DOWNLOAD_URL=t.androidStudioPaths=t.flutterSnapScript=t.flutterPath=t.analyzerSnapshotPath=t.pubSnapshotPath=t.pubPath=t.dartVMPath=t.androidStudioExecutableNames=t.flutterExecutableName=t.pubExecutableName=t.dartExecutableName=t.platformEol=t.platformDisplayName=t.dartPlatformName=t.isChromeOS=t.isLinux=t.isMac=t.isWin=t.debugAdapterPath=t.flutterExtensionIdentifier=t.dartCodeExtensionIdentifier=void 0;const r=s(5);t.dartCodeExtensionIdentifier="Dart-Code.dart-code",t.flutterExtensionIdentifier="Dart-Code.flutter",t.debugAdapterPath="out/dist/debug.js",t.isWin=/^win/.test(process.platform),t.isMac="darwin"===process.platform,t.isLinux=!t.isWin&&!t.isMac,t.isChromeOS=t.isLinux&&r.existsSync("/dev/.cros_milestone"),t.dartPlatformName=t.isWin?"win":t.isMac?"mac":"linux",t.platformDisplayName=t.isWin?"win":t.isMac?"mac":t.isChromeOS?"chromeos":"linux",t.platformEol=t.isWin?"\r\n":"\n",t.dartExecutableName=t.isWin?"dart.exe":"dart",t.pubExecutableName=t.isWin?"pub.bat":"pub",t.flutterExecutableName=t.isWin?"flutter.bat":"flutter",t.androidStudioExecutableNames=t.isWin?["studio64.exe"]:["studio.sh","studio"],t.dartVMPath="bin/"+t.dartExecutableName,t.pubPath="bin/"+t.pubExecutableName,t.pubSnapshotPath="bin/snapshots/pub.dart.snapshot",t.analyzerSnapshotPath="bin/snapshots/analysis_server.dart.snapshot",t.flutterPath="bin/"+t.flutterExecutableName,t.flutterSnapScript="/snap/flutter/current/flutter.sh",t.androidStudioPaths=t.androidStudioExecutableNames.map(e=>"bin/"+e),t.DART_DOWNLOAD_URL="https://dart.dev/get-dart",t.FLUTTER_DOWNLOAD_URL="https://flutter.dev/setup/",t.IS_LSP_CONTEXT="dart-code:isLsp",t.DART_TEST_SUITE_NODE_CONTEXT="dart-code:testSuiteNode",t.DART_TEST_GROUP_NODE_CONTEXT="dart-code:testGroupNode",t.DART_TEST_TEST_NODE_CONTEXT="dart-code:testTestNode",t.DART_DEP_PROJECT_NODE_CONTEXT="dart-code:depProjectNode",t.DART_DEP_PACKAGE_NODE_CONTEXT="dart-code:depPackageNode",t.DART_DEP_FOLDER_NODE_CONTEXT="dart-code:depFolderNode",t.DART_DEP_FILE_NODE_CONTEXT="dart-code:depFileNode",t.DART_IS_CAPTURING_LOGS_CONTEXT="dart-code:isCapturingLogs",t.PUB_OUTDATED_SUPPORTED_CONTEXT="dart-code:pubOutdatedSupported",t.IS_RUNNING_LOCALLY_CONTEXT="dart-code:isRunningLocally",t.stopLoggingAction="Stop Logging",t.showLogAction="Show Log",t.restartReasonManual="manual",t.restartReasonSave="save",t.debugLaunchProgressId="launch",t.debugTerminatingProgressId="terminate",t.pubGlobalDocsUrl="https://www.dartlang.org/tools/pub/cmd/pub-global",t.stagehandInstallationInstructionsUrl="https://github.com/dart-lang/stagehand#installation",t.issueTrackerAction="Issue Tracker",t.issueTrackerUri="https://github.com/Dart-Code/Dart-Code/issues",t.wantToTryDevToolsPrompt="Dart DevTools includes additional tools for debugging and profiling Flutter apps, including a Widget Inspector. Try it?",t.openDevToolsAction="Open",t.alwaysOpenAction="Always Open",t.notTodayAction="Not Now",t.doNotAskAgainAction="Never Ask",t.moreInfoAction="More Info",t.flutterSurveyDataUrl="https://flutter.dev/f/flutter-survey-metadata.json",t.flutterSurveyAnalyticsText="By clicking on this link you agree to share feature usage along with the survey responses.",t.takeSurveyAction="Take Survey",t.skipThisSurveyAction="Skip This Survey",t.modifyingFilesOutsideWorkspaceInfoUrl="https://dartcode.org/docs/modifying-files-outside-workspace/",t.initializeSnapPrompt="The Flutter snap is installed but not initialized. Would you like to initialize it now?",t.initializingFlutterMessage="Initializing Flutter. This may take a few minutes.",t.fiveMinutesInMs=3e5,t.tenMinutesInMs=6e5,t.twentyMinutesInMs=12e5,t.twoHoursInMs=72e5,t.twentyHoursInMs=72e6,t.fortyHoursInMs=144e6,t.noRepeatPromptThreshold=t.twentyHoursInMs,t.longRepeatPromptThreshold=t.fortyHoursInMs,t.pleaseReportBug="Please raise a bug against the Dart extension for VS Code.",t.CHROME_OS_DEVTOOLS_PORT=8080,t.CHROME_OS_VM_SERVICE_PORT=8085,t.DART_STAGEHAND_PROJECT_TRIGGER_FILE="dart.sh.create",t.FLUTTER_CREATE_PROJECT_TRIGGER_FILE="flutter.create",t.REFACTOR_FAILED_DOC_MODIFIED="This refactor cannot be applied because the document has changed.",t.REFACTOR_ANYWAY="Refactor Anyway",t.TRACK_WIDGET_CREATION_ENABLED="dart-code:trackWidgetCreationEnabled",t.HAS_LAST_DEBUG_CONFIG="dart-code:hasLastDebugConfig",t.HAS_LAST_TEST_DEBUG_CONFIG="dart-code:hasLastTestDebugConfig",t.isInFlutterDebugModeDebugSessionContext="dart-code:isInFlutterDebugModeDebugSession",t.isInFlutterProfileModeDebugSessionContext="dart-code:isInFlutterProfileModeDebugSession",t.showErrorsAction="Show Errors",t.debugAnywayAction="Debug Anyway",t.userPromptContextPrefix="hasPrompted.",t.installFlutterExtensionPromptKey="install_flutter_extension_3",t.useRecommendedSettingsPromptKey="use_recommended_settings",t.yesAction="Yes",t.noAction="No",t.skipAction="Skip",t.showRecommendedSettingsAction="Show Recommended Settings",t.recommendedSettingsUrl="https://dartcode.org/docs/recommended-settings/",t.openSettingsAction="Open Settings File",t.reactivateDevToolsAction="Reactivate DevTools",t.vmServiceListeningBannerPattern=new RegExp("Observatory (?:listening on|.* is available at:) (http:.+)"),t.vmServiceHttpLinkPattern=new RegExp("(http://[\\d\\.:]+/)"),t.runFlutterCreateDotPrompt=e=>`You must run 'flutter create .' to create the files required to use the ${e} device for this project.`,t.runFlutterCreateDotAction="Run 'flutter create .'",t.cancelAction="Cancel",t.devToolsPages=["Inspector","Timeline","Memory","Performance","Network","Logging"],t.dartRecommendedConfig={"editor.formatOnSave":!0,"editor.formatOnType":!0,"editor.rulers":[80],"editor.selectionHighlight":!1,"editor.suggest.snippetsPreventQuickSuggestions":!1,"editor.suggestSelection":"first","editor.tabCompletion":"onlySnippets","editor.wordBasedSuggestions":!1}},function(e,t){e.exports=require("fs")},,,function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugOption=t.debugOptionNames=t.LogSeverity=t.LogCategory=t.VersionStatus=t.VmService=t.VmServiceExtension=t.TestStatus=t.DebuggerType=void 0,function(e){e[e.Dart=0]="Dart",e[e.PubTest=1]="PubTest",e[e.Flutter=2]="Flutter",e[e.FlutterTest=3]="FlutterTest",e[e.Web=4]="Web",e[e.WebTest=5]="WebTest"}(t.DebuggerType||(t.DebuggerType={})),function(e){e[e.Waiting=0]="Waiting",e[e.Passed=1]="Passed",e[e.Skipped=2]="Skipped",e[e.Unknown=3]="Unknown",e[e.Failed=4]="Failed",e[e.Errored=5]="Errored",e[e.Running=6]="Running"}(t.TestStatus||(t.TestStatus={})),function(e){e.PlatformOverride="ext.flutter.platformOverride",e.DebugBanner="ext.flutter.debugAllowBanner",e.CheckElevations="ext.flutter.debugCheckElevationsEnabled",e.DebugPaint="ext.flutter.debugPaint",e.Driver="ext.flutter.driver",e.PaintBaselines="ext.flutter.debugPaintBaselinesEnabled",e.InspectorSelectMode="ext.flutter.inspector.show",e.InspectorSetPubRootDirectories="ext.flutter.inspector.setPubRootDirectories",e.InspectorStructuredErrors="ext.flutter.inspector.structuredErrors",e.BrightnessOverride="ext.flutter.brightnessOverride",e.RepaintRainbow="ext.flutter.repaintRainbow",e.PerformanceOverlay="ext.flutter.showPerformanceOverlay",e.SlowAnimations="ext.flutter.timeDilation"}(t.VmServiceExtension||(t.VmServiceExtension={})),function(e){e.HotReload="reloadSources",e.HotRestart="hotRestart",e.LaunchDevTools="launchDevTools"}(t.VmService||(t.VmService={})),function(e){e[e.NotInstalled=0]="NotInstalled",e[e.UpdateRequired=1]="UpdateRequired",e[e.UpdateAvailable=2]="UpdateAvailable",e[e.Valid=3]="Valid"}(t.VersionStatus||(t.VersionStatus={})),function(e){e[e.General=0]="General",e[e.CI=1]="CI",e[e.CommandProcesses=2]="CommandProcesses",e[e.DevTools=3]="DevTools",e[e.Analyzer=4]="Analyzer",e[e.PubTest=5]="PubTest",e[e.FlutterDaemon=6]="FlutterDaemon",e[e.FlutterRun=7]="FlutterRun",e[e.FlutterTest=8]="FlutterTest",e[e.VmService=9]="VmService",e[e.WebDaemon=10]="WebDaemon"}(t.LogCategory||(t.LogCategory={})),function(e){e[e.Info=0]="Info",e[e.Warn=1]="Warn",e[e.Error=2]="Error"}(t.LogSeverity||(t.LogSeverity={})),t.debugOptionNames=["my code","my code + packages","my code + packages + SDK","my code + SDK"],function(e){e[e.MyCode=0]="MyCode",e[e.MyCodePackages=1]="MyCodePackages",e[e.MyCodePackagesSdk=2]="MyCodePackagesSdk",e[e.MyCodeSdk=3]="MyCodeSdk"}(t.DebugOption||(t.DebugOption={}))},function(e,t,s){const r=s(25),{MAX_LENGTH:i,MAX_SAFE_INTEGER:n}=s(24),{re:o,t:a}=s(16),{compareIdentifiers:c}=s(31);class l{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<n)return t}return e}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const s=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,s,i),void 0===s&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===s)return-1;if(s!==i)return c(s,i)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const s=this.build[t],i=e.build[t];if(r("prerelease compare",t,s,i),void 0===s&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===s)return-1;if(s!==i)return c(s,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}e.exports=l},,function(e,t,s){const r=s(9);e.exports=(e,t,s)=>new r(e,s).compare(new r(t,s))},function(e,t,s){class r{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof i)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=this.options.loose;e=e.trim();const s=t?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];e=e.replace(s,R(this.options.includePrerelease)),n("hyphen replace",e),e=e.replace(a[c.COMPARATORTRIM],l),n("comparator trim",e,a[c.COMPARATORTRIM]),e=(e=(e=e.replace(a[c.TILDETRIM],u)).replace(a[c.CARETTRIM],h)).split(/\s+/).join(" ");const r=t?a[c.COMPARATORLOOSE]:a[c.COMPARATOR];return e.split(" ").map(e=>p(e,this.options)).join(" ").split(/\s+/).map(e=>_(e,this.options)).filter(this.options.loose?e=>!!e.match(r):()=>!0).map(e=>new i(e,this.options))}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(s=>d(s,t)&&e.set.some(e=>d(e,t)&&s.every(s=>e.every(e=>s.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new o(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const i=s(27),n=s(25),o=s(9),{re:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:h}=s(16),d=(e,t)=>{let s=!0;const r=e.slice();let i=r.pop();for(;s&&r.length;)s=r.every(e=>i.intersects(e,t)),i=r.pop();return s},p=(e,t)=>(n("comp",e,t),e=v(e,t),n("caret",e),e=f(e,t),n("tildes",e),e=S(e,t),n("xrange",e),e=E(e,t),n("stars",e),e),g=e=>!e||"x"===e.toLowerCase()||"*"===e,f=(e,t)=>e.trim().split(/\s+/).map(e=>m(e,t)).join(" "),m=(e,t)=>{const s=t.loose?a[c.TILDELOOSE]:a[c.TILDE];return e.replace(s,(t,s,r,i,o)=>{let a;return n("tilde",e,t,s,r,i,o),g(s)?a="":g(r)?a=`>=${s}.0.0 <${+s+1}.0.0-0`:g(i)?a=`>=${s}.${r}.0 <${s}.${+r+1}.0-0`:o?(n("replaceTilde pr",o),a=`>=${s}.${r}.${i}-${o} <${s}.${+r+1}.0-0`):a=`>=${s}.${r}.${i} <${s}.${+r+1}.0-0`,n("tilde return",a),a})},v=(e,t)=>e.trim().split(/\s+/).map(e=>b(e,t)).join(" "),b=(e,t)=>{n("caret",e,t);const s=t.loose?a[c.CARETLOOSE]:a[c.CARET],r=t.includePrerelease?"-0":"";return e.replace(s,(t,s,i,o,a)=>{let c;return n("caret",e,t,s,i,o,a),g(s)?c="":g(i)?c=`>=${s}.0.0${r} <${+s+1}.0.0-0`:g(o)?c="0"===s?`>=${s}.${i}.0${r} <${s}.${+i+1}.0-0`:`>=${s}.${i}.0${r} <${+s+1}.0.0-0`:a?(n("replaceCaret pr",a),c="0"===s?"0"===i?`>=${s}.${i}.${o}-${a} <${s}.${i}.${+o+1}-0`:`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`:`>=${s}.${i}.${o}-${a} <${+s+1}.0.0-0`):(n("no pr"),c="0"===s?"0"===i?`>=${s}.${i}.${o}${r} <${s}.${i}.${+o+1}-0`:`>=${s}.${i}.${o}${r} <${s}.${+i+1}.0-0`:`>=${s}.${i}.${o} <${+s+1}.0.0-0`),n("caret return",c),c})},S=(e,t)=>(n("replaceXRanges",e,t),e.split(/\s+/).map(e=>y(e,t)).join(" ")),y=(e,t)=>{e=e.trim();const s=t.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return e.replace(s,(s,r,i,o,a,c)=>{n("xRange",e,s,r,i,o,a,c);const l=g(i),u=l||g(o),h=u||g(a),d=h;return"="===r&&d&&(r=""),c=t.includePrerelease?"-0":"",l?s=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(u&&(o=0),a=0,">"===r?(r=">=",u?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),"<"===r&&(c="-0"),s=`${r+i}.${o}.${a}${c}`):u?s=`>=${i}.0.0${c} <${+i+1}.0.0-0`:h&&(s=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),n("xRange return",s),s})},E=(e,t)=>(n("replaceStars",e,t),e.trim().replace(a[c.STAR],"")),_=(e,t)=>(n("replaceGTE0",e,t),e.trim().replace(a[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),R=e=>(t,s,r,i,n,o,a,c,l,u,h,d,p)=>`${s=g(r)?"":g(i)?`>=${r}.0.0${e?"-0":""}`:g(n)?`>=${r}.${i}.0${e?"-0":""}`:o?">="+s:`>=${s}${e?"-0":""}`} ${c=g(l)?"":g(u)?`<${+l+1}.0.0-0`:g(h)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${h}-${d}`:e?`<${l}.${u}.${+h+1}-0`:"<="+c}`.trim(),T=(e,t,s)=>{for(let s=0;s<e.length;s++)if(!e[s].test(t))return!1;if(t.prerelease.length&&!s.includePrerelease){for(let s=0;s<e.length;s++)if(n(e[s].semver),e[s].semver!==i.ANY&&e[s].semver.prerelease.length>0){const r=e[s].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RingLog=t.captureLogs=t.logToConsole=t.logProcess=t.nullLogger=t.CategoryLogger=t.EmittingLogger=void 0;const r=s(38),i=s(5),n=s(18),o=s(2),a=s(8),c=s(3);class l extends r.EventEmitter{fire(e){this.emit("log",e)}onLog(e){return this.on("log",e),{dispose:()=>{this.removeListener("log",e)}}}}t.EmittingLogger=class{constructor(){this.onLogEmitter=new l,this.onLog=e=>this.onLogEmitter.onLog(e)}log(e,t,s=a.LogCategory.General){this.onLogEmitter.fire(new u(e,t,s))}info(e,t){this.log(e,a.LogSeverity.Info,t)}warn(e,t){this.log(c.errorString(e),a.LogSeverity.Warn,t)}error(e,t){this.log(c.errorString(e),a.LogSeverity.Error,t)}dispose(){this.onLogEmitter.removeAllListeners()}};class u{constructor(e,t,s){this.message=e,this.severity=t,this.category=s}toLine(e){const t=(e&&this.message&&this.message.length>e?this.message.substring(0,e)+"…":this.message||"<empty message>").trimRight();return`${`[${(new Date).toLocaleTimeString()}]`} ${`[${a.LogCategory[this.category]}] [${a.LogSeverity[this.severity]}]`} ${t}`}}t.CategoryLogger=class{constructor(e,t){this.base=e,this.defaultCategory=t}info(e,t=this.defaultCategory){this.base.info(e,t)}warn(e,t=this.defaultCategory){this.base.warn(e,t)}error(e,t=this.defaultCategory){this.base.error(e,t)}};t.nullLogger=new class{info(e,t){}warn(e,t){}error(e,t){}},t.logProcess=function(e,t,s){const r=`(PROC ${s.pid})`;e.info(r+" Logging data for process...",t),s.stdout.on("data",s=>e.info(`${r} ${s}`,t)),s.stderr.on("data",s=>e.info(`${r} ${s}`,t)),s.on("close",(s,i)=>e.info(`${r} closed (${s}, ${i})`,t)),s.on("exit",(s,i)=>e.info(`${r} exited (${s}, ${i})`,t))},t.logToConsole=function(e){e.onLog(e=>{e.severity===a.LogSeverity.Error?console.error(e.toLine(1e3)):e.severity===a.LogSeverity.Warn&&console.warn(e.toLine(1e3))})},t.captureLogs=function(e,t,s,r,c,l=!1){if(!t||!o.isAbsolute(t))throw new Error("Path passed to logTo must be an absolute path");const u=(e=!1)=>e?`[${(new Date).toTimeString()}] `:`[${(new Date).toLocaleTimeString()}] `;let h=i.createWriteStream(t);s&&h.write(s),h.write(`${(new Date).toDateString()} ${u(!0)}Log file started${n.EOL}`);let d=e.onLog(e=>{if(!h)return;(!c||(l?-1===c.indexOf(e.category):-1!==c.indexOf(e.category))||e.severity===a.LogSeverity.Warn||e.severity===a.LogSeverity.Error)&&h.write(`${e.toLine(r)}${n.EOL}`)});return{dispose:()=>(d&&(d.dispose(),d=void 0),new Promise(e=>{h&&(h.write(`${(new Date).toDateString()} ${u(!0)}Log file ended${n.EOL}`),h.end(e),h=void 0)}))}};t.RingLog=class{constructor(e){this.size=e,this.pointer=0,this.lines=new Array(this.size)}get rawLines(){return this.lines}log(e){this.lines[this.pointer]=e,this.pointer=(this.pointer+1)%this.size}toString(){return this.lines.slice(this.pointer,this.size).concat(this.lines.slice(0,this.pointer)).filter(e=>e).join("\n")}}},,,function(e,t,s){const{MAX_SAFE_COMPONENT_LENGTH:r}=s(24),i=s(25),n=(t=e.exports={}).re=[],o=t.src=[],a=t.t={};let c=0;const l=(e,t,s)=>{const r=c++;i(r,t),a[e]=r,o[r]=t,n[r]=new RegExp(t,s?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${o[a.NUMERICIDENTIFIER]}|${o[a.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${o[a.NUMERICIDENTIFIERLOOSE]}|${o[a.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${o[a.PRERELEASEIDENTIFIER]}(?:\\.${o[a.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${o[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[a.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${o[a.BUILDIDENTIFIER]}(?:\\.${o[a.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${o[a.MAINVERSION]}${o[a.PRERELEASE]}?${o[a.BUILD]}?`),l("FULL",`^${o[a.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${o[a.MAINVERSIONLOOSE]}${o[a.PRERELEASELOOSE]}?${o[a.BUILD]}?`),l("LOOSE",`^${o[a.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",o[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),l("XRANGEIDENTIFIER",o[a.NUMERICIDENTIFIER]+"|x|X|\\*"),l("XRANGEPLAIN",`[v=\\s]*(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:${o[a.PRERELEASE]})?${o[a.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:${o[a.PRERELEASELOOSE]})?${o[a.BUILD]}?)?)?`),l("XRANGE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",o[a.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${o[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",l("TILDE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${o[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",l("CARET",`^${o[a.LONECARET]}${o[a.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${o[a.LONECARET]}${o[a.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${o[a.GTLT]}\\s*(${o[a.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]}|${o[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${o[a.XRANGEPLAIN]})\\s+-\\s+(${o[a.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${o[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[a.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0.0.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,s){const{MAX_LENGTH:r}=s(24),{re:i,t:n}=s(16),o=s(9);e.exports=(e,t)=>{if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof o)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?i[n.LOOSE]:i[n.FULL]).test(e))return null;try{return new o(e,t)}catch(e){return null}}},function(e,t){e.exports=require("os")},,,function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arraysEqual=t.unique=t.not=t.sortBy=void 0,t.sortBy=function(e,t){return e.sort((e,s)=>{const r=t(e),i=t(s);return r<i?-1:r>i?1:0})},t.not=function(e){return t=>!e(t)},t.unique=function(e){return Array.from(new Set(e))},t.arraysEqual=function(e,t){return e.length===t.length&&e.every((e,s)=>e===t[s])}},,,function(e,t){const s=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:s,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t){const s="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=s},function(e,t,s){const r=s(11);e.exports=(e,t,s)=>r(e,t,s)>0},function(e,t,s){const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],s=e.match(t);if(!s)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==s[1]?s[1]:"","="===this.operator&&(this.operator=""),s[2]?this.semver=new l(s[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return a(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new u(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new u(this.value,t).test(e.semver);const s=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),n=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),c=a(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=a(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return s||r||n&&o||c||l}}e.exports=i;const{re:n,t:o}=s(16),a=s(46),c=s(25),l=s(9),u=s(12)},function(e,t,s){const r=s(12);e.exports=(e,t,s)=>{try{t=new r(t,s)}catch(e){return!1}return t.test(e)}},function(e,t){e.exports=require("url")},,function(e,t){const s=/^[0-9]+$/,r=(e,t)=>{const r=s.test(e),i=s.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},function(e,t,s){const r=s(11);e.exports=(e,t,s)=>0===r(e,t,s)},function(e,t,s){const r=s(9);e.exports=(e,t,s)=>{const i=new r(e,s),n=new r(t,s);return i.compare(n)||i.compareBuild(n)}},function(e,t,s){const r=s(11);e.exports=(e,t,s)=>r(e,t,s)<0},function(e,t,s){const r=s(11);e.exports=(e,t,s)=>r(e,t,s)>=0},function(e,t,s){const r=s(11);e.exports=(e,t,s)=>r(e,t,s)<=0},function(e,t,s){const r=s(9),i=s(27),{ANY:n}=i,o=s(12),a=s(28),c=s(26),l=s(34),u=s(36),h=s(35);e.exports=(e,t,s,d)=>{let p,g,f,m,v;switch(e=new r(e,d),t=new o(t,d),s){case">":p=c,g=u,f=l,m=">",v=">=";break;case"<":p=l,g=h,f=c,m="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let s=0;s<t.set.length;++s){const r=t.set[s];let o=null,a=null;if(r.forEach(e=>{e.semver===n&&(e=new i(">=0.0.0")),o=o||e,a=a||e,p(e.semver,o.semver,d)?o=e:f(e.semver,a.semver,d)&&(a=e)}),o.operator===m||o.operator===v)return!1;if((!a.operator||a.operator===m)&&g(e,a.semver))return!1;if(a.operator===v&&f(e,a.semver))return!1}return!0}},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("https")},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeSpawn=void 0;const r=s(47);t.safeSpawn=function(e,t,s,i){const n=Object.assign({},process.env,i.toolEnv,i.envOverrides),o=s.map(e=>`"${e.replace(/"/g,'\\"')}"`);return r.spawn(`"${t}"`,o,{cwd:e,env:n,shell:!0})}},function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StdIOService=void 0;const i=s(5),n=s(40);t.StdIOService=class{constructor(e,t,s=!1,r=!1,i=!1,n){this.logger=e,this.maxLogLineLength=t,this.messagesWrappedInBrackets=s,this.treatHandlingErrorsAsUnhandledMessages=r,this.treatCarriageReturnsAsNewlines=i,this.logFile=n,this.disposables=[],this.additionalPidsToTerminate=[],this.nextRequestID=1,this.activeRequests={},this.messageBuffers=[],this.requestErrorSubscriptions=[],this.processExited=!1}createProcess(e,t,s,r){this.logTraffic(`Spawning ${t} with args ${JSON.stringify(s)}`),e&&this.logTraffic("..  in "+e),(r.envOverrides||r.toolEnv)&&this.logTraffic("..  with "+JSON.stringify(r)),this.process=n.safeSpawn(e,t,s,r),this.logTraffic("    PID: "+process.pid),this.process.stdout.on("data",e=>this.handleStdOut(e)),this.process.stderr.on("data",e=>this.handleStdErr(e)),this.process.on("exit",(e,t)=>this.handleExit(e,t)),this.process.on("error",e=>this.handleError(e))}normalizeNewlines(e){const t=this.treatCarriageReturnsAsNewlines?Buffer.from(e.toString().replace(/\r/g,"\n")):e;return Buffer.from(t)}handleStdOut(e){e=this.normalizeNewlines(e),this.messageBuffers.push(e),e.indexOf("\n")>=0&&this.processMessageBuffer()}handleStdErr(e){this.logTraffic(""+e.toString(),!0)}handleExit(e,t){this.logTraffic(`Process terminated! ${e}, ${t}`),this.processExited=!0}handleError(e){this.logTraffic("Process errored! "+e)}buildRequest(e,t,s){return{id:e.toString(),method:t,params:s}}sendRequest(e,t){const s=this.nextRequestID++;return new Promise((r,i)=>{this.activeRequests[s.toString()]=[r,i,e];const n=this.buildRequest(s,e,t),o=this.messagesWrappedInBrackets?"["+JSON.stringify(n)+"]\r\n":JSON.stringify(n)+"\r\n";this.sendMessage(o)})}cancelAllRequests(){Object.keys(this.activeRequests).forEach(e=>this.activeRequests[e]="CANCELLED")}sendMessage(e){this.logTraffic("==> "+e),this.process?this.process.stdin.write(e):this.logTraffic("  (not sent: no process)")}processMessageBuffer(){let e=Buffer.concat(this.messageBuffers);this.messageBuffers=[];const t=e.lastIndexOf("\n");if(t!==e.length-1){const s=e.slice(t+1);e=e.slice(0,t),this.messageBuffers.push(s)}e.toString().split("\n").filter(e=>""!==e.trim()).forEach(e=>this.handleMessage(e+"\n"))}processUnhandledMessage(e){return r(this,void 0,void 0,(function*(){}))}handleMessage(e){return r(this,void 0,void 0,(function*(){if(this.logTraffic(`<== ${e.trimRight()}\r\n`),!this.shouldHandleMessage(e.trim()))return this.processUnhandledMessage(e);let t;try{t=JSON.parse(e),this.messagesWrappedInBrackets&&t&&1===t.length&&(t=t[0])}catch(t){if(this.treatHandlingErrorsAsUnhandledMessages)return this.logger.error(`Unexpected non-JSON message, assuming normal stdout (${t})\n\n${t.stack}\n\n${e}`),this.processUnhandledMessage(e);throw t}try{t&&this.isNotification(t)?this.handleNotification(t).catch(e=>this.logger.error(e)):t&&this.isRequest(t)?this.processServerRequest(t).catch(e=>this.logger.error(e)):t&&this.isResponse(t)?this.handleResponse(t).catch(e=>this.logger.error(e)):(this.logger.error("Unexpected JSON message, assuming normal stdout : "+e),this.processUnhandledMessage(e).catch(e=>this.logger.error(e)))}catch(t){if(!this.treatHandlingErrorsAsUnhandledMessages)throw t;this.logger.error(`Failed to handle JSON message, assuming normal stdout (${t})\n\n${t.stack}\n\n${e}`),this.processUnhandledMessage(e).catch(e=>this.logger.error(e))}}))}handleRequest(e,t){return r(this,void 0,void 0,(function*(){}))}isNotification(e){return!!e.event}isRequest(e){return!!e.method&&!!e.id}isResponse(e){return!!e.id}processServerRequest(e){return r(this,void 0,void 0,(function*(){let t,s;try{t=yield this.handleRequest(e.method,e.params)}catch(e){s=e}const r={id:e.id,result:t,error:s},i=this.messagesWrappedInBrackets?"["+JSON.stringify(r)+"]\r\n":JSON.stringify(r)+"\r\n";this.sendMessage(i)}))}handleResponse(e){return r(this,void 0,void 0,(function*(){const t=this.activeRequests[e.id];if(delete this.activeRequests[e.id],"CANCELLED"===t)return void this.logger.info(`Ignoring response to ${e.id} because it was cancelled:\n\n${JSON.stringify(e,void 0,4)}`);if(!t)return void this.logger.error(`Unable to handle response with ID ${e.id} because its handler is not available`);const s=t[2],r=e.error;r&&"SERVER_ERROR"===r.code&&(r.method=s,this.notify(this.requestErrorSubscriptions,r).catch(e=>this.logger.error(e))),r?yield t[1](r):yield t[0](e.result)}))}notify(e,t){return Promise.all(e.slice().map(e=>e(t))).catch(e=>console.error(e))}subscribe(e,t){e.push(t);const s={dispose:()=>{let r=e.indexOf(t);r>=0&&e.splice(r,1),r=this.disposables.indexOf(s),r>=0&&this.disposables.splice(r,1)}};return this.disposables.push(s),s}registerForRequestError(e){return this.subscribe(this.requestErrorSubscriptions,e)}logTraffic(e,t=!1){t?this.logger.error(e):this.logger.info(e),this.openLogFile!==this.logFile&&this.logStream&&(this.logStream.end(),this.logStream=void 0,this.openLogFile=void 0),this.logFile&&(this.logStream||(this.logStream=i.createWriteStream(this.logFile),this.openLogFile=this.logFile),this.logStream.write(`[${(new Date).toLocaleTimeString()}]: `),this.maxLogLineLength&&e.length>this.maxLogLineLength?this.logStream.write(e.substring(0,this.maxLogLineLength)+"…\r\n"):this.logStream.write(e.trim()+"\r\n"))}dispose(){for(const e of this.additionalPidsToTerminate)try{process.kill(e)}catch(e){this.logger.error({message:e.toString()})}this.additionalPidsToTerminate.length=0;try{this.processExited||!this.process||this.process.killed||this.process.kill()}catch(e){}this.process=void 0,this.disposables.forEach(e=>r(this,void 0,void 0,(function*(){try{return yield e.dispose()}catch(e){this.logger.error({message:e.toString()})}}))),this.disposables.length=0,this.logFile=void 0,this.logStream&&(this.logStream.end(),this.logStream=void 0,this.openLogFile=void 0)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=t.Response=t.Event=t.ErrorDestination=t.CompletionItem=t.Module=t.Source=t.Breakpoint=t.Variable=t.Scope=t.StackFrame=t.Thread=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.ContinuedEvent=t.StoppedEvent=t.TerminatedEvent=t.InitializedEvent=t.logger=t.Logger=t.LoggingDebugSession=t.DebugSession=void 0;const r=s(103);Object.defineProperty(t,"DebugSession",{enumerable:!0,get:function(){return r.DebugSession}}),Object.defineProperty(t,"InitializedEvent",{enumerable:!0,get:function(){return r.InitializedEvent}}),Object.defineProperty(t,"TerminatedEvent",{enumerable:!0,get:function(){return r.TerminatedEvent}}),Object.defineProperty(t,"StoppedEvent",{enumerable:!0,get:function(){return r.StoppedEvent}}),Object.defineProperty(t,"ContinuedEvent",{enumerable:!0,get:function(){return r.ContinuedEvent}}),Object.defineProperty(t,"OutputEvent",{enumerable:!0,get:function(){return r.OutputEvent}}),Object.defineProperty(t,"ThreadEvent",{enumerable:!0,get:function(){return r.ThreadEvent}}),Object.defineProperty(t,"BreakpointEvent",{enumerable:!0,get:function(){return r.BreakpointEvent}}),Object.defineProperty(t,"ModuleEvent",{enumerable:!0,get:function(){return r.ModuleEvent}}),Object.defineProperty(t,"LoadedSourceEvent",{enumerable:!0,get:function(){return r.LoadedSourceEvent}}),Object.defineProperty(t,"CapabilitiesEvent",{enumerable:!0,get:function(){return r.CapabilitiesEvent}}),Object.defineProperty(t,"ProgressStartEvent",{enumerable:!0,get:function(){return r.ProgressStartEvent}}),Object.defineProperty(t,"ProgressUpdateEvent",{enumerable:!0,get:function(){return r.ProgressUpdateEvent}}),Object.defineProperty(t,"ProgressEndEvent",{enumerable:!0,get:function(){return r.ProgressEndEvent}}),Object.defineProperty(t,"Thread",{enumerable:!0,get:function(){return r.Thread}}),Object.defineProperty(t,"StackFrame",{enumerable:!0,get:function(){return r.StackFrame}}),Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return r.Scope}}),Object.defineProperty(t,"Variable",{enumerable:!0,get:function(){return r.Variable}}),Object.defineProperty(t,"Breakpoint",{enumerable:!0,get:function(){return r.Breakpoint}}),Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return r.Source}}),Object.defineProperty(t,"Module",{enumerable:!0,get:function(){return r.Module}}),Object.defineProperty(t,"CompletionItem",{enumerable:!0,get:function(){return r.CompletionItem}}),Object.defineProperty(t,"ErrorDestination",{enumerable:!0,get:function(){return r.ErrorDestination}});const i=s(269);Object.defineProperty(t,"LoggingDebugSession",{enumerable:!0,get:function(){return i.LoggingDebugSession}});const n=s(130);t.Logger=n;const o=s(104);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return o.Event}}),Object.defineProperty(t,"Response",{enumerable:!0,get:function(){return o.Response}});const a=s(277);Object.defineProperty(t,"Handles",{enumerable:!0,get:function(){return a.Handles}});const c=n.logger;t.logger=c},function(e,t,s){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},,function(e,t,s){const r=s(11);e.exports=(e,t,s)=>0!==r(e,t,s)},function(e,t,s){const r=s(32),i=s(45),n=s(26),o=s(35),a=s(34),c=s(36);e.exports=(e,t,s,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof s&&(s=s.version),e===s;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof s&&(s=s.version),e!==s;case"":case"=":case"==":return r(e,s,l);case"!=":return i(e,s,l);case">":return n(e,s,l);case">=":return o(e,s,l);case"<":return a(e,s,l);case"<=":return c(e,s,l);default:throw new TypeError("Invalid operator: "+t)}}},function(e,t){e.exports=require("child_process")},,,,function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("net")},,,function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DaemonCapabilities=t.FlutterCapabilities=void 0;const r=s(3);class i{constructor(e){this.version=e}static get empty(){return new i("0.0.0")}get supportsPidFileForMachine(){return r.versionIsAtLeast(this.version,"0.10.0")}get supportsCreatingSamples(){return r.versionIsAtLeast(this.version,"1.0.0")}get supportsMultipleSamplesPerElement(){return r.versionIsAtLeast(this.version,"1.2.2")}get supportsDevTools(){return r.versionIsAtLeast(this.version,"1.1.0")}get hasTestGroupFix(){return r.versionIsAtLeast(this.version,"1.3.4")}get hasEvictBug(){return!r.versionIsAtLeast(this.version,"1.2.2")}get hasLatestStructuredErrorsWork(){return r.versionIsAtLeast(this.version,"1.21.0-5.0")}get supportsFlutterCreateListSamples(){return r.versionIsAtLeast(this.version,"1.3.10")}get supportsWsVmService(){return r.versionIsAtLeast(this.version,"1.18.0-5")}get supportsWsDebugBackend(){return r.versionIsAtLeast(this.version,"1.21.0-0")}get supportsExposeUrl(){return r.versionIsAtLeast(this.version,"1.18.0-5")}get supportsDartDefine(){return r.versionIsAtLeast(this.version,"1.17.0")}get supportsRestartDebounce(){return r.versionIsAtLeast(this.version,"1.21.0-0")}get webSupportsDebugging(){return!1}}t.FlutterCapabilities=i;class n{constructor(e){this.version=e}static get empty(){return new n("0.0.0")}get canCreateEmulators(){return r.versionIsAtLeast(this.version,"0.4.0")}get canFlutterAttach(){return r.versionIsAtLeast(this.version,"0.4.1")}get providesPlatformTypes(){return r.versionIsAtLeast(this.version,"0.5.2")}}t.DaemonCapabilities=n},function(e,t){e.exports=require("http")},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PackageMap=void 0;const r=s(5),i=s(2),n=s(29),o=s(3),a=s(1);class c{static findPackagesFile(e){if("string"!=typeof e)return;return o.findFileInAncestor([i.join(".dart_tool/package_config.json"),".packages"],e)}static load(e,t){if(!t)return new l;try{return".packages"===i.basename(t).toLowerCase()?new u(t):new h(e,t)}catch(t){return e.error(t),new l}}getPackagePath(e){return this.packages[e]}resolvePackageUri(e){if(!e)return;let t=e;t.startsWith("package:")&&(t=t.substring(8));const s=t.indexOf("/");if(-1===s)return;const r=t.substring(s+1);t=t.substring(0,s);const n=this.getPackagePath(t);return n?i.join(n,r):void 0}}t.PackageMap=c;class l extends c{get packages(){return{}}getPackagePath(e){}resolvePackageUri(e){}}class u extends c{constructor(e){if(super(),this.map={},!e)return;this.localPackageRoot=i.dirname(e);const t=r.readFileSync(e,{encoding:"utf8"}).split("\n");for(let e of t){if(e=e.trim(),0===e.length||e.startsWith("#"))continue;const t=e.indexOf(":");if(-1!==t){const s=e.substr(0,t),r=e.substring(t+1);r.startsWith("file:")?this.map[s]=o.uriToFilePath(r):this.map[s]=i.join(this.localPackageRoot,r)}}}get packages(){return Object.assign({},this.map)}}class h extends c{constructor(e,t){super(),this.logger=e,this.packageConfigPath=t,this.map={};const s=r.readFileSync(this.packageConfigPath,"utf8");this.config=JSON.parse(s);for(const t of this.config.packages)try{const e=i.dirname(this.packageConfigPath),s=this.getPathForUri(t.rootUri),r=this.getPathForUri(t.packageUri);this.map[t.name]=i.resolve(e,null!=s?s:"",null!=r?r:"")}catch(s){e.error(`Failed to resolve path for package ${t.name}: ${s}`)}}getPathForUri(e){if(!e)return;const t=a.normalizeSlashes(e.startsWith("file:")?n.fileURLToPath(e):unescape(e));return t.endsWith(i.sep)?t:`${t}${i.sep}`}get packages(){return Object.assign({},this.map)}getPackagePath(e){return this.map[e]}}},function(e,t){e.exports=require("stream")},,,,function(e,t,s){"use strict";const r=s(282),i=s(63),n=s(283),{kStatusCode:o,NOOP:a}=s(43),c=Buffer.from([0,0,255,255]),l=Symbol("permessage-deflate"),u=Symbol("total-length"),h=Symbol("callback"),d=Symbol("buffers"),p=Symbol("error");let g;function f(e){this[d].push(e),this[u]+=e.length}function m(e){this[u]+=e.length,this[l]._maxPayload<1||this[u]<=this[l]._maxPayload?this[d].push(e):(this[p]=new RangeError("Max payload size exceeded"),this[p][o]=1009,this.removeListener("data",m),this.reset())}function v(e){this[l]._inflate=null,e[o]=1007,this[h](e)}e.exports=class{constructor(e,t,s){if(this._maxPayload=0|s,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!g){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;g=new n(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[h];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,s=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!s)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(s.server_no_context_takeover=!0),t.clientNoContextTakeover&&(s.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(s.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?s.client_max_window_bits=t.clientMaxWindowBits:!0!==s.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete s.client_max_window_bits,s}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let s=e[t];if(s.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(s=s[0],"client_max_window_bits"===t){if(!0!==s){const e=+s;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${s}`);s=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${s}`)}else if("server_max_window_bits"===t){const e=+s;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${s}`);s=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==s)throw new TypeError(`Invalid value for parameter "${t}": ${s}`)}e[t]=s})}),e}decompress(e,t,s){g.add(r=>{this._decompress(e,t,(e,t)=>{r(),s(e,t)})})}compress(e,t,s){g.add(r=>{this._compress(e,t,(e,t)=>{r(),s(e,t)})})}_decompress(e,t,s){const n=this._isServer?"client":"server";if(!this._inflate){const e=n+"_max_window_bits",t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[l]=this,this._inflate[u]=0,this._inflate[d]=[],this._inflate.on("error",v),this._inflate.on("data",m)}this._inflate[h]=s,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[p];if(e)return this._inflate.close(),this._inflate=null,void s(e);const r=i.concat(this._inflate[d],this._inflate[u]);t&&this.params[n+"_no_context_takeover"]?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[d]=[]),s(null,r)})}_compress(e,t,s){const n=this._isServer?"server":"client";if(!this._deflate){const e=n+"_max_window_bits",t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[d]=[],this._deflate.on("error",a),this._deflate.on("data",f)}this._deflate[h]=s,this._deflate.write(e),this._deflate.flush(r.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=i.concat(this._deflate[d],this._deflate[u]);t&&(e=e.slice(0,e.length-4)),this._deflate[h]=null,t&&this.params[n+"_no_context_takeover"]?(this._deflate.close(),this._deflate=null):(this._deflate[u]=0,this._deflate[d]=[]),s(null,e)})}}},function(e,t,s){"use strict";const{EMPTY_BUFFER:r}=s(43);function i(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const s=Buffer.allocUnsafe(t);let i=0;for(let t=0;t<e.length;t++){const r=e[t];s.set(r,i),i+=r.length}return i<t?s.slice(0,i):s}function n(e,t,s,r,i){for(let n=0;n<i;n++)s[r+n]=e[n]^t[3&n]}function o(e,t){const s=e.length;for(let r=0;r<s;r++)e[r]^=t[3&r]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=s(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),r=t.BufferUtil||t;e.exports={concat:i,mask(e,t,s,i,o){o<48?n(e,t,s,i,o):r.mask(e,t,s,i,o)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?o(e,t):r.unmask(e,t)}}}catch(t){e.exports={concat:i,mask:n,toArrayBuffer:a,toBuffer:c,unmask:o}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugAdapterLogger=void 0;const r=s(42),i=s(8),n=s(3);t.DebugAdapterLogger=class{constructor(e,t){this.debugClient=e,this.category=t}log(e,t,s=this.category){this.debugClient.sendEvent(new r.Event("dart.log",{message:e,severity:t,category:s}))}info(e,t){this.log(e,i.LogSeverity.Info,t)}warn(e,t){this.log(n.errorString(e),i.LogSeverity.Warn,t)}error(e,t){this.log(n.errorString(e),i.LogSeverity.Error,t)}}},function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RunMode=t.RunDaemonBase=void 0;const i=s(41);class n extends i.StdIOService{constructor(e,t,s,r,i,n=!1,o=!1){super(s,i,n,o,!0,t),this.mode=e,this.urlExposer=r,this.unhandledMessageSubscriptions=[],this.daemonConnectedSubscriptions=[],this.appStartSubscriptions=[],this.appDebugPortSubscriptions=[],this.appStartedSubscriptions=[],this.appStopSubscriptions=[],this.appProgressSubscriptions=[],this.appWebLaunchUrlSubscriptions=[],this.appLogSubscriptions=[],this.errorSubscriptions=[],this.daemonLogMessageSubscriptions=[],this.daemonLogSubscriptions=[]}shouldHandleMessage(e){return e.startsWith("[{")&&e.endsWith("}]")}processUnhandledMessage(e){return r(this,void 0,void 0,(function*(){yield this.notify(this.unhandledMessageSubscriptions,e)}))}registerForUnhandledMessages(e){return this.subscribe(this.unhandledMessageSubscriptions,e)}handleRequest(e,t){return r(this,void 0,void 0,(function*(){switch(e){case"app.exposeUrl":return this.urlExposer(t.url);default:throw new Error("Unknown request "+e)}}))}handleNotification(e){return r(this,void 0,void 0,(function*(){switch(e.params.error&&(yield this.notify(this.errorSubscriptions,e.params.error)),e.event){case"daemon.connected":yield this.notify(this.daemonConnectedSubscriptions,e.params);break;case"app.start":yield this.notify(this.appStartSubscriptions,e.params);break;case"app.debugPort":yield this.notify(this.appDebugPortSubscriptions,e.params);break;case"app.started":yield this.notify(this.appStartedSubscriptions,e.params);break;case"app.webLaunchUrl":yield this.notify(this.appWebLaunchUrlSubscriptions,e.params);break;case"app.stop":yield this.notify(this.appStopSubscriptions,e.params);break;case"app.progress":yield this.notify(this.appProgressSubscriptions,e.params);break;case"app.log":yield this.notify(this.appLogSubscriptions,e.params);break;case"daemon.logMessage":yield this.notify(this.daemonLogMessageSubscriptions,e.params);break;case"daemon.log":yield this.notify(this.daemonLogSubscriptions,e.params)}}))}restart(e,t,s,r){return this.sendRequest("app.restart",{appId:e,fullRestart:!0===s,pause:t,reason:null==r?void 0:r.reason,debounce:null==r?void 0:r.debounce})}detach(e){return this.sendRequest("app.detach",{appId:e})}stop(e){return this.sendRequest("app.stop",{appId:e})}callServiceExtension(e,t,s){return this.sendRequest("app.callServiceExtension",{appId:e,methodName:t,params:s})}registerForDaemonConnect(e){return this.subscribe(this.daemonConnectedSubscriptions,e)}registerForAppStart(e){return this.subscribe(this.appStartSubscriptions,e)}registerForAppDebugPort(e){return this.subscribe(this.appDebugPortSubscriptions,e)}registerForAppStarted(e){return this.subscribe(this.appStartedSubscriptions,e)}registerForAppStop(e){return this.subscribe(this.appStopSubscriptions,e)}registerForAppProgress(e){return this.subscribe(this.appProgressSubscriptions,e)}registerForAppWebLaunchUrl(e){return this.subscribe(this.appWebLaunchUrlSubscriptions,e)}registerForAppLog(e){return this.subscribe(this.appLogSubscriptions,e)}registerForError(e){return this.subscribe(this.errorSubscriptions,e)}registerForDaemonLogMessage(e){return this.subscribe(this.daemonLogMessageSubscriptions,e)}registerForDaemonLog(e){return this.subscribe(this.daemonLogSubscriptions,e)}}t.RunDaemonBase=n,function(e){e[e.Run=0]="Run",e[e.Attach=1]="Attach"}(t.RunMode||(t.RunMode={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DartCapabilities=void 0;const r=s(3);class i{constructor(e){this.version=e}static get empty(){return new i("0.0.0")}get generatesCodeWithUnimplementedError(){return r.versionIsAtLeast(this.version,"2.8.0-dev.0.0")}get supportsDevTools(){return r.versionIsAtLeast(this.version,"2.1.0")}get includesSourceForSdkLibs(){return r.versionIsAtLeast(this.version,"2.2.1")}get handlesBreakpointsInPartFiles(){return r.versionIsAtLeast(this.version,"2.2.1-edge")}get hasDocumentationInCompletions(){return!r.versionIsAtLeast(this.version,"2.5.1")}get supportsDisableServiceTokens(){return r.versionIsAtLeast(this.version,"2.2.1-dev.4.2")}get supportsWriteServiceInfo(){return r.versionIsAtLeast(this.version,"2.7.1")}get supportsDebugInternalLibraries(){return r.versionIsAtLeast(this.version,"2.9.0-a")}get supportsPubOutdated(){return r.versionIsAtLeast(this.version,"2.8.0-a")}get hasUpdatedCompletionRanking(){return r.versionIsAtLeast(this.version,"2.10.0-0")}get webSupportsEvaluation(){return!1}get webSupportsDebugging(){return!1}}t.DartCapabilities=i},function(e,t,s){const r=s(16);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:s(24).SEMVER_SPEC_VERSION,SemVer:s(9),compareIdentifiers:s(31).compareIdentifiers,rcompareIdentifiers:s(31).rcompareIdentifiers,parse:s(17),valid:s(68),clean:s(69),inc:s(70),diff:s(71),major:s(72),minor:s(73),patch:s(74),prerelease:s(75),compare:s(11),rcompare:s(76),compareLoose:s(77),compareBuild:s(33),sort:s(78),rsort:s(79),gt:s(26),lt:s(34),eq:s(32),neq:s(45),gte:s(35),lte:s(36),cmp:s(46),coerce:s(80),Comparator:s(27),Range:s(12),satisfies:s(28),toComparators:s(81),maxSatisfying:s(82),minSatisfying:s(83),minVersion:s(84),validRange:s(85),outside:s(37),gtr:s(86),ltr:s(87),intersects:s(88),simplifyRange:s(89),subset:s(90)}},function(e,t,s){const r=s(17);e.exports=(e,t)=>{const s=r(e,t);return s?s.version:null}},function(e,t,s){const r=s(17);e.exports=(e,t)=>{const s=r(e.trim().replace(/^[=v]+/,""),t);return s?s.version:null}},function(e,t,s){const r=s(9);e.exports=(e,t,s,i)=>{"string"==typeof s&&(i=s,s=void 0);try{return new r(e,s).inc(t,i).version}catch(e){return null}}},function(e,t,s){const r=s(17),i=s(32);e.exports=(e,t)=>{if(i(e,t))return null;{const s=r(e),i=r(t),n=s.prerelease.length||i.prerelease.length,o=n?"pre":"",a=n?"prerelease":"";for(const e in s)if(("major"===e||"minor"===e||"patch"===e)&&s[e]!==i[e])return o+e;return a}}},function(e,t,s){const r=s(9);e.exports=(e,t)=>new r(e,t).major},function(e,t,s){const r=s(9);e.exports=(e,t)=>new r(e,t).minor},function(e,t,s){const r=s(9);e.exports=(e,t)=>new r(e,t).patch},function(e,t,s){const r=s(17);e.exports=(e,t)=>{const s=r(e,t);return s&&s.prerelease.length?s.prerelease:null}},function(e,t,s){const r=s(11);e.exports=(e,t,s)=>r(t,e,s)},function(e,t,s){const r=s(11);e.exports=(e,t)=>r(e,t,!0)},function(e,t,s){const r=s(33);e.exports=(e,t)=>e.sort((e,s)=>r(e,s,t))},function(e,t,s){const r=s(33);e.exports=(e,t)=>e.sort((e,s)=>r(s,e,t))},function(e,t,s){const r=s(9),i=s(17),{re:n,t:o}=s(16);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let s=null;if((t=t||{}).rtl){let t;for(;(t=n[o.COERCERTL].exec(e))&&(!s||s.index+s[0].length!==e.length);)s&&t.index+t[0].length===s.index+s[0].length||(s=t),n[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;n[o.COERCERTL].lastIndex=-1}else s=e.match(n[o.COERCE]);return null===s?null:i(`${s[2]}.${s[3]||"0"}.${s[4]||"0"}`,t)}},function(e,t,s){const r=s(12);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},function(e,t,s){const r=s(9),i=s(12);e.exports=(e,t,s)=>{let n=null,o=null,a=null;try{a=new i(t,s)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(n&&-1!==o.compare(e)||(n=e,o=new r(n,s)))}),n}},function(e,t,s){const r=s(9),i=s(12);e.exports=(e,t,s)=>{let n=null,o=null,a=null;try{a=new i(t,s)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(n&&1!==o.compare(e)||(n=e,o=new r(n,s)))}),n}},function(e,t,s){const r=s(9),i=s(12),n=s(26);e.exports=(e,t)=>{e=new i(e,t);let s=new r("0.0.0");if(e.test(s))return s;if(s=new r("0.0.0-0"),e.test(s))return s;s=null;for(let t=0;t<e.set.length;++t){e.set[t].forEach(e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!n(s,t)||(s=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}return s&&e.test(s)?s:null}},function(e,t,s){const r=s(12);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},function(e,t,s){const r=s(37);e.exports=(e,t,s)=>r(e,t,">",s)},function(e,t,s){const r=s(37);e.exports=(e,t,s)=>r(e,t,"<",s)},function(e,t,s){const r=s(12);e.exports=(e,t,s)=>(e=new r(e,s),t=new r(t,s),e.intersects(t))},function(e,t,s){const r=s(28),i=s(11);e.exports=(e,t,s)=>{const n=[];let o=null,a=null;const c=e.sort((e,t)=>i(e,t,s));for(const e of c){r(e,t,s)?(a=e,o||(o=e)):(a&&n.push([o,a]),a=null,o=null)}o&&n.push([o,null]);const l=[];for(const[e,t]of n)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push("<="+t):l.push(`${e} - ${t}`):l.push(">="+e):l.push("*");const u=l.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return u.length<h.length?u:t}},function(e,t,s){const r=s(12),{ANY:i}=s(27),n=s(28),o=s(11),a=(e,t,s)=>{if(1===e.length&&e[0].semver===i)return 1===t.length&&t[0].semver===i;const r=new Set;let a,u,h,d,p,g,f;for(const t of e)">"===t.operator||">="===t.operator?a=c(a,t,s):"<"===t.operator||"<="===t.operator?u=l(u,t,s):r.add(t.semver);if(r.size>1)return null;if(a&&u){if(h=o(a.semver,u.semver,s),h>0)return null;if(0===h&&(">="!==a.operator||"<="!==u.operator))return null}for(const e of r){if(a&&!n(e,String(a),s))return null;if(u&&!n(e,String(u),s))return null;for(const r of t)if(!n(e,String(r),s))return!1;return!0}for(const e of t){if(f=f||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,a)if(">"===e.operator||">="===e.operator){if(d=c(a,e,s),d===e)return!1}else if(">="===a.operator&&!n(a.semver,String(e),s))return!1;if(u)if("<"===e.operator||"<="===e.operator){if(p=l(u,e,s),p===e)return!1}else if("<="===u.operator&&!n(u.semver,String(e),s))return!1;if(!e.operator&&(u||a)&&0!==h)return!1}return!(a&&g&&!u&&0!==h)&&!(u&&f&&!a&&0!==h)},c=(e,t,s)=>{if(!e)return t;const r=o(e.semver,t.semver,s);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},l=(e,t,s)=>{if(!e)return t;const r=o(e.semver,t.semver,s);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,s)=>{e=new r(e,s),t=new r(t,s);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=a(r,e,s);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},,,,,,,,,,,,,function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=s(268),i=s(104),n=s(52),o=s(29);t.Source=class{constructor(e,t,s=0,r,i){this.name=e,this.path=t,this.sourceReference=s,r&&(this.origin=r),i&&(this.adapterData=i)}};t.Scope=class{constructor(e,t,s=!1){this.name=e,this.variablesReference=t,this.expensive=s}};t.StackFrame=class{constructor(e,t,s,r=0,i=0){this.id=e,this.source=s,this.line=r,this.column=i,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}};t.Variable=class{constructor(e,t,s=0,r,i){this.name=e,this.value=t,this.variablesReference=s,"number"==typeof i&&(this.namedVariables=i),"number"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,s,r){this.verified=e;const i=this;"number"==typeof t&&(i.line=t),"number"==typeof s&&(i.column=s),r&&(i.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,s=0){this.label=e,this.start=t,this.length=s}};class a extends i.Event{constructor(e,t,s){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof s&&(this.body.text=s)}}t.StoppedEvent=a;class c extends i.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=c;class l extends i.Event{constructor(){super("initialized")}}t.InitializedEvent=l;class u extends i.Event{constructor(e){if(super("terminated"),"boolean"==typeof e||e){this.body={restart:e}}}}t.TerminatedEvent=u;class h extends i.Event{constructor(e,t="console",s){super("output"),this.body={category:t,output:e},void 0!==s&&(this.body.data=s)}}t.OutputEvent=h;class d extends i.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}}t.ThreadEvent=d;class p extends i.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=p;class g extends i.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}}t.ModuleEvent=g;class f extends i.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=f;class m extends i.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}}t.CapabilitiesEvent=m;class v extends i.Event{constructor(e,t,s){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof s&&(this.body.message=s)}}t.ProgressStartEvent=v;class b extends i.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=b;class S extends i.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}var y;t.ProgressEndEvent=S,function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(y=t.ErrorDestination||(t.ErrorDestination={}));class E extends r.ProtocolServer{constructor(e,t){super();const s="boolean"==typeof e&&e;this._debuggerLinesStartAt1=s,this._debuggerColumnsStartAt1=s,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",()=>{this.shutdown()}),this.on("error",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){let t=0;if(process.argv.slice(2).forEach((function(e,s,r){const i=/^--server=(\d{4,5})$/.exec(e);i&&(t=parseInt(i[1],10))})),t>0)console.error("waiting for debug protocol on port "+t),n.createServer(t=>{console.error(">> accepted connection from client"),t.on("end",()=>{console.error(">> client connection closed\n")});const s=new e(!1,!0);s.setRunAsServer(!0),s.start(t,t)}).listen(t);else{const t=new e(!1);process.on("SIGTERM",()=>{t.shutdown()}),t.start(process.stdin,process.stdout)}}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,s,r,i=y.User){let n;"number"==typeof t?(n={id:t,format:s},r&&(n.variables=r),i&y.User&&(n.showUser=!0),i&y.Telemetry&&(n.sendTelemetry=!0)):n=t,e.success=!1,e.message=E.formatPII(n.format,!0,n.variables),e.body||(e.body={}),e.body.error=n,this.sendResponse(e)}runInTerminalRequest(e,t,s){this.sendRequest("runInTerminal",e,t,s)}dispatchRequest(e){const t=new i.Response(e);try{if("initialize"===e.command){var s=e.arguments;if("boolean"==typeof s.linesStartAt1&&(this._clientLinesStartAt1=s.linesStartAt1),"boolean"==typeof s.columnsStartAt1&&(this._clientColumnsStartAt1=s.columnsStartAt1),"path"!==s.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,y.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,s)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},y.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,this.sendResponse(e)}disconnectRequest(e,t,s){this.sendResponse(e),this.shutdown()}launchRequest(e,t,s){this.sendResponse(e)}attachRequest(e,t,s){this.sendResponse(e)}terminateRequest(e,t,s){this.sendResponse(e)}restartRequest(e,t,s){this.sendResponse(e)}setBreakPointsRequest(e,t,s){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,s){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,s){this.sendResponse(e)}configurationDoneRequest(e,t,s){this.sendResponse(e)}continueRequest(e,t,s){this.sendResponse(e)}nextRequest(e,t,s){this.sendResponse(e)}stepInRequest(e,t,s){this.sendResponse(e)}stepOutRequest(e,t,s){this.sendResponse(e)}stepBackRequest(e,t,s){this.sendResponse(e)}reverseContinueRequest(e,t,s){this.sendResponse(e)}restartFrameRequest(e,t,s){this.sendResponse(e)}gotoRequest(e,t,s){this.sendResponse(e)}pauseRequest(e,t,s){this.sendResponse(e)}sourceRequest(e,t,s){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,s){this.sendResponse(e)}stackTraceRequest(e,t,s){this.sendResponse(e)}scopesRequest(e,t,s){this.sendResponse(e)}variablesRequest(e,t,s){this.sendResponse(e)}setVariableRequest(e,t,s){this.sendResponse(e)}setExpressionRequest(e,t,s){this.sendResponse(e)}evaluateRequest(e,t,s){this.sendResponse(e)}stepInTargetsRequest(e,t,s){this.sendResponse(e)}gotoTargetsRequest(e,t,s){this.sendResponse(e)}completionsRequest(e,t,s){this.sendResponse(e)}exceptionInfoRequest(e,t,s){this.sendResponse(e)}loadedSourcesRequest(e,t,s){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,s){this.sendResponse(e)}setDataBreakpointsRequest(e,t,s){this.sendResponse(e)}readMemoryRequest(e,t,s){this.sendResponse(e)}disassembleRequest(e,t,s){this.sendResponse(e)}cancelRequest(e,t,s){this.sendResponse(e)}breakpointLocationsRequest(e,t,s){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,s){this.sendResponse(e)}customRequest(e,t,s,r){this.sendErrorResponse(t,1014,"unrecognized request",null,y.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?E.uri2path(e):E.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?E.uri2path(e):E.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new o.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new o.URL(e),s=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(s)&&(s=s[1].toLowerCase()+s.substr(2)),s=s.replace(/\//g,"\\")),s}static formatPII(e,t,s){return e.replace(E._formatPIIRegexp,(function(e,r){return t&&r.length>0&&"_"!==r[0]?e:s[r]&&s.hasOwnProperty(r)?s[r]:e}))}}t.DebugSession=E,E._formatPIIRegexp=/{([^}]+)}/g},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DartDebugSession=void 0;const i=s(5),n=s(18),o=s(2),a=s(29),c=s(42),l=s(66),u=s(278),h=s(4),d=s(8),p=s(40),g=s(57),f=s(3),m=s(21),v=s(132),b=s(1),S=s(279),y=s(64),E=s(287),_=s(288),R=new RegExp("(.*#\\d+.*)\\(((?:package|dart|file):.*\\.dart):(\\d+):(\\d+)\\)\\s*$","m"),T=new RegExp("((?:package|dart|file):.*\\.dart) (\\d+):(\\d+)\\s*(\\S+)\\s*$","m"),w=new RegExp("(.*?)((?:package|dart|file):.*\\.dart):(\\d+):(\\d+)\\s*$","m"),I=new RegExp(";\\s*$","m");class L extends c.DebugSession{constructor(){super(),this.additionalPidsToTerminate=new Set,this.expectAdditionalPidToTerminate=!1,this.additionalPidCompleter=new f.PromiseCompleter,this.allowTerminatingVmServicePid=!0,this.connectVmEvenForNoDebug=!1,this.allowWriteServiceInfo=!0,this.processExited=!1,this.sendLogsToClient=!1,this.debugSdkLibraries=!1,this.debugExternalLibraries=!1,this.showDartDeveloperLogs=!0,this.useFlutterStructuredErrors=!1,this.evaluateGettersInDebugViews=!1,this.evaluateToStringInDebugViews=!1,this.dartCapabilities=l.DartCapabilities.empty,this.vmServiceCapabilities=u.VmServiceCapabilities.empty,this.useWriteServiceInfo=!1,this.sendStdOutToConsole=!0,this.supportsObservatoryWebApp=!0,this.parseVmServiceUriFromStdOut=!0,this.requiresProgram=!0,this.processExit=Promise.resolve({code:0,signal:null}),this.maxLogLineLength=1e3,this.shouldKillProcessOnTerminate=!0,this.logCategory=d.LogCategory.General,this.supportsRunInTerminalRequest=!1,this.supportsDebugInternalLibraries=!1,this.isTerminating=!1,this.logger=new y.DebugAdapterLogger(this,d.LogCategory.VmService),this.urlExposeCompleters={},this.lastLoggingEvent=Promise.resolve(),this.logBuffer={},this.threadManager=new E.ThreadManager(this.logger,this)}get shouldConnectDebugger(){return!this.noDebug||this.connectVmEvenForNoDebug}initializeRequest(e,t){this.supportsRunInTerminalRequest=!!t.supportsRunInTerminalRequest,e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest=!0,e.body.supportsRestartFrame=!0,e.body.supportsClipboardContext=!0,e.body.exceptionBreakpointFilters=[{filter:"All",label:"All Exceptions",default:!1},{filter:"Unhandled",label:"Uncaught Exceptions",default:!0}],this.sendResponse(e)}launchRequest(e,t){return r(this,void 0,void 0,(function*(){if(!t||!t.dartPath||this.requiresProgram&&!t.program)return this.logToUser("Unable to restart debugging. Please try ending the debug session and starting again.\n"),void this.sendEvent(new c.TerminatedEvent);if(t.program&&!o.isAbsolute(t.program)){if(!t.cwd)return this.errorResponse(e,"Unable to start debugging. program was specified as a relative path without cwd.");t.program=o.join(t.cwd,t.program)}this.startProgress(h.debugLaunchProgressId,"Launching"),this.shouldKillProcessOnTerminate=!0,this.cwd=t.cwd,this.noDebug=t.noDebug,yield this.threadManager.setExceptionPauseMode(this.noDebug?"None":"Unhandled"),this.packageMap=g.PackageMap.load(this.logger,g.PackageMap.findPackagesFile(t.program||t.cwd)),this.dartCapabilities.version=t.dartVersion,this.useWriteServiceInfo=this.allowWriteServiceInfo&&this.dartCapabilities.supportsWriteServiceInfo,this.supportsDebugInternalLibraries=this.dartCapabilities.supportsDebugInternalLibraries,this.readSharedArgs(t),this.sendResponse(e),this.useWriteServiceInfo&&(this.parseVmServiceUriFromStdOut=!1,this.vmServiceInfoFile=o.join(n.tmpdir(),`dart-vm-service-${b.getRandomInt(4096,65536).toString(16)}.json`));try{if("terminal"!==t.console||this.supportsRunInTerminalRequest||this.log("Ignoring request to run in terminal because client does not support runInTerminalRequest",d.LogSeverity.Warn),"terminal"===t.console&&this.useWriteServiceInfo&&this.supportsRunInTerminalRequest)this.childProcess=yield this.spawnRemoteEditorProcess(t);else{const e=this.spawnProcess(t);this.childProcess=e,this.processExited=!1,this.processExit=new Promise(t=>e.on("exit",(e,s)=>t({code:e,signal:s}))),e.stdout.setEncoding("utf8"),e.stdout.on("data",e=>r(this,void 0,void 0,(function*(){let t=null;this.shouldConnectDebugger&&this.parseVmServiceUriFromStdOut&&!this.vmService&&(t=h.vmServiceListeningBannerPattern.exec(e.toString())),t?yield this.initDebugger(this.vmServiceWsUriFor(t[1])):this.sendStdOutToConsole&&this.logToUserBuffered(e.toString(),"stdout")}))),e.stderr.setEncoding("utf8"),e.stderr.on("data",e=>{this.logToUserBuffered(e.toString(),"stderr")}),e.on("error",e=>{this.logToUser(e+"\n","stderr")}),this.processExit.then(({code:e,signal:t})=>r(this,void 0,void 0,(function*(){this.stopServiceFilePolling(),this.processExited=!0,this.log(`Process exited (${t?(""+t).toLowerCase():e})`),e||t?this.logToUser(`Exited (${t?(""+t).toLowerCase():e})\n`):this.logToUser("Exited\n"),yield this.raceIgnoringErrors(()=>this.lastLoggingEvent,500),setImmediate(()=>this.sendEvent(new c.TerminatedEvent))})))}if(this.useWriteServiceInfo&&this.shouldConnectDebugger){const e=yield this.startServiceFilePolling();yield this.initDebugger(e.toString())}}catch(e){return this.logToUser("Unable to start debugging: "+e),void this.sendEvent(new c.TerminatedEvent)}this.shouldConnectDebugger||(this.endProgress(h.debugLaunchProgressId),this.sendEvent(new c.InitializedEvent),this.childProcess&&this.childProcess instanceof P&&setImmediate(()=>this.sendEvent(new c.TerminatedEvent),0))}))}readSharedArgs(e){this.debugExternalLibraries=e.debugExternalLibraries,this.debugSdkLibraries=e.debugSdkLibraries,this.evaluateGettersInDebugViews=e.evaluateGettersInDebugViews,this.evaluateToStringInDebugViews=e.evaluateToStringInDebugViews,this.logFile=e.vmServiceLogFile,this.maxLogLineLength=e.maxLogLineLength,this.sendLogsToClient=!!e.sendLogsToClient,this.showDartDeveloperLogs=e.showDartDeveloperLogs,this.toolEnv=e.toolEnv,this.useFlutterStructuredErrors=e.useFlutterStructuredErrors}attachRequest(e,t){return r(this,void 0,void 0,(function*(){const s=t.vmServiceUri||t.observatoryUri;if(!t||!s&&!t.serviceInfoFile)return this.errorResponse(e,"Unable to attach; no VM service address or service info file provided.");if(this.startProgress(h.debugLaunchProgressId,"Waiting for application"),this.shouldKillProcessOnTerminate=!1,this.cwd=t.cwd,this.readSharedArgs(t),this.log("Attaching to process via "+(s||t.serviceInfoFile)),t.packages){t.packages&&!o.isAbsolute(t.packages)&&(t.packages=t.cwd?o.join(t.cwd,t.packages):t.packages);try{this.packageMap=g.PackageMap.load(this.logger,g.PackageMap.findPackagesFile(t.packages))}catch(t){this.errorResponse(e,"Unable to load packages file: "+t)}}let r;this.sendResponse(e);try{s?r=this.vmServiceWsUriFor(s):(this.vmServiceInfoFile=t.serviceInfoFile,this.updateProgress(h.debugLaunchProgressId,"Waiting for "+this.vmServiceInfoFile),r=yield this.startServiceFilePolling(),this.endProgress(h.debugLaunchProgressId)),yield this.initDebugger(r)}catch(e){const s=t.serviceInfoFile?"\n    VM info was read from "+t.serviceInfoFile:"";return this.logToUser(`Unable to connect to VM service at ${r||"??"}${s}\n    ${e}`),void this.sendEvent(new c.TerminatedEvent)}}))}sourceFileForArgs(e){return e.cwd?o.relative(e.cwd,e.program):e.program}spawnProcess(e){const t=this.buildAppArgs(e);this.log(`Spawning ${e.dartPath} with args ${JSON.stringify(t)}`),e.cwd&&this.log("..  in "+e.cwd);const s=p.safeSpawn(e.cwd,e.dartPath,t,{envOverrides:e.env,toolEnv:e.toolEnv});return this.log("    PID: "+s.pid),s}spawnRemoteEditorProcess(e){return r(this,void 0,void 0,(function*(){const t=this.buildAppArgs(e);return this.log(`Spawning ${e.dartPath} remotely with args ${JSON.stringify(t)}`),e.cwd&&this.log("..  in "+e.cwd),this.remoteEditorTerminalLaunched=new Promise((s,r)=>{this.sendRequest("runInTerminal",{args:[e.dartPath].concat(t),cwd:e.cwd,env:e.env,kind:"integrated",title:e.name},15e3,e=>{if(e.success){this.log("    PID: "+process.pid);s(new P(e.body.processId))}else r(e.message)})}),this.remoteEditorTerminalLaunched}))}buildAppArgs(e){let t=[];return this.shouldConnectDebugger&&(this.expectAdditionalPidToTerminate=!0,t.push("--enable-vm-service="+e.vmServicePort),t.push("--pause_isolates_on_start=true")),this.useWriteServiceInfo&&this.vmServiceInfoFile&&(t.push("--write-service-info="+_.formatPathForVm(this.vmServiceInfoFile)),t.push("-DSILENT_OBSERVATORY=true")),!1!==e.enableAsserts&&t.push("--enable-asserts"),e.vmAdditionalArgs&&(t=t.concat(e.vmAdditionalArgs)),t.push(this.sourceFileForArgs(e)),e.args&&(t=t.concat(e.args)),t}vmServiceWsUriFor(e){const t=e.trim();return t.endsWith("/ws")?t:t.endsWith("/ws/")?t.substr(0,t.length-1):t.endsWith("/")?t+"ws":t+"/ws"}log(e,t=d.LogSeverity.Info){this.logFile&&(this.logStream||(this.logStream=i.createWriteStream(this.logFile)),this.logStream.write(`[${(new Date).toLocaleTimeString()}]: `),this.maxLogLineLength&&e.length>this.maxLogLineLength?this.logStream.write(e.substring(0,this.maxLogLineLength)+"…\r\n"):this.logStream.write(e.trim()+"\r\n")),this.sendLogsToClient&&this.sendEvent(new c.Event("dart.log",{message:e,severity:t,category:d.LogCategory.VmService}))}startServiceFilePolling(){return this.logger.info("Starting to poll for file "+this.vmServiceInfoFile),this.stopServiceFilePolling(!1),this.serviceInfoFileCompleter&&this.serviceInfoFileCompleter.reject("Cancelled"),this.serviceInfoFileCompleter=new f.PromiseCompleter,this.serviceInfoPollTimer=setInterval(()=>this.tryReadServiceFile(),50),this.serviceInfoFileCompleter.promise}stopServiceFilePolling(e=!0){if(this.serviceInfoPollTimer&&(this.logger.info("Stopping polling for file "+this.vmServiceInfoFile),clearInterval(this.serviceInfoPollTimer)),e&&this.vmServiceInfoFile&&i.existsSync(this.vmServiceInfoFile)&&this.remoteEditorTerminalLaunched)try{i.unlinkSync(this.vmServiceInfoFile),this.vmServiceInfoFile=void 0}catch(e){}}tryReadServiceFile(){var e,t;return r(this,void 0,void 0,(function*(){if(this.vmServiceInfoFile&&i.existsSync(this.vmServiceInfoFile))try{const t=i.readFileSync(this.vmServiceInfoFile,"utf8");if(t.length<2||!t.trimRight().endsWith("}"))return;const s=JSON.parse(t);this.logger.info("Successfully read JSON from "+this.vmServiceInfoFile);const r=new a.URL(s.uri);r.protocol="ws",r.pathname.endsWith("/")&&(r.pathname=r.pathname.substr(0,r.pathname.length-1)),r.pathname.endsWith("/ws")||(r.pathname=r.pathname+"/ws"),this.stopServiceFilePolling(),this.remoteEditorTerminalLaunched&&(yield this.remoteEditorTerminalLaunched,yield new Promise(e=>setTimeout(e,5))),null===(e=this.serviceInfoFileCompleter)||void 0===e||e.resolve(r.toString())}catch(e){this.logger.error(e),null===(t=this.serviceInfoFileCompleter)||void 0===t||t.reject(e)}}))}initDebugger(e){return r(this,void 0,void 0,(function*(){let t;if(this.log("Initialising debugger for "+e),e.endsWith("/ws")?(t=e.substring(0,e.length-2),t.startsWith("ws:")&&(t="http:"+t.substring(3))):t=e,this.sendEvent(new c.Event("dart.debuggerUris",{observatoryUri:this.supportsObservatoryWebApp?t.toString():void 0,vmServiceUri:t.toString()})),this.shouldConnectDebugger)return this.debuggerInit=new Promise((t,s)=>{this.log("Connecting to VM Service at "+e),this.logToUser(`Connecting to VM Service at ${e}\n`),this.vmService=new S.VmServiceConnection(e),this.vmService.onLogging(e=>this.log(e)),this.vmService.onOpen(()=>r(this,void 0,void 0,(function*(){this.vmService&&(yield this.vmService.getVersion().then(e=>r(this,void 0,void 0,(function*(){const t=e.result;this.vmServiceCapabilities.version=`${t.major}.${t.minor}.0`,this.vmService&&(yield this.subscribeToStreams(),yield this.vmService.getVM().then(e=>r(this,void 0,void 0,(function*(){if(!this.vmService)return;const t=e.result;this.allowTerminatingVmServicePid&&this.childProcess&&this.recordAdditionalPid(t.pid);const s=yield Promise.all(t.isolates.map(e=>this.vmService.getIsolate(e.id))),i=s.find(e=>!!e.result.rootLib),n=i&&i.result;n&&n.extensionRPCs&&n.extensionRPCs.forEach(e=>this.notifyServiceExtensionAvailable(e,n.id)),this.packageMap||n&&n.rootLib&&(this.packageMap=g.PackageMap.load(this.logger,g.PackageMap.findPackagesFile(this.convertVMUriToSourcePath(n.rootLib.uri)))),yield Promise.all(s.map(e=>r(this,void 0,void 0,(function*(){const t=e.result;yield this.threadManager.registerThread(t,t.runnable?"IsolateRunnable":"IsolateStart"),t.pauseEvent.kind.startsWith("Pause")&&(yield this.handlePauseEvent(t.pauseEvent))})))),this.pollforMemoryMs&&setTimeout(()=>this.pollForMemoryUsage(),this.pollforMemoryMs),this.endProgress(h.debugLaunchProgressId),this.sendEvent(new c.InitializedEvent)}))))}))),t())}))),this.vmService.onClose((e,t)=>{this.log(`VM service connection closed: ${e} (${t})`),this.logStream&&(this.logStream.end(),this.logStream=void 0,this.logFile=void 0),!this.childProcess||this.childProcess instanceof P?this.sendEvent(new c.TerminatedEvent):setTimeout(()=>{this.processExited||this.sendEvent(new c.TerminatedEvent)},5e3)}),this.vmService.onError(e=>{s(e)})}),this.debuggerInit}))}recordAdditionalPid(e){this.additionalPidsToTerminate.add(e),this.additionalPidCompleter.resolve()}subscribeToStreams(){return r(this,void 0,void 0,(function*(){if(!this.vmService)return;const e=this.vmServiceCapabilities.serviceStreamIsPublic?"Service":"_Service";yield Promise.all([this.vmService.on("Isolate",e=>this.handleIsolateEvent(e)),this.vmService.on("Extension",e=>this.handleExtensionEvent(e)),this.vmService.on("Debug",e=>this.handleDebugEvent(e)),this.vmService.on(e,e=>this.handleServiceEvent(e))]),this.vmServiceCapabilities.hasLoggingStream&&this.showDartDeveloperLogs&&(yield this.vmService.on("Logging",e=>this.handleLoggingEvent(e)).catch(e=>{this.logger.info(f.errorString(e))}))}))}terminate(e){return r(this,void 0,void 0,(function*(){const t=e?"SIGKILL":"SIGINT",s=e?"DISC":"TERM";if(this.log(`${s}: Requested to terminate with ${t}...`),this.stopServiceFilePolling(),this.shouldKillProcessOnTerminate&&this.childProcess&&!this.processExited){this.log(s+": Terminating processes...");for(const e of this.additionalPidsToTerminate)if(e!==this.childProcess.pid)try{this.log(`${s}: Terminating related process ${e} with ${t}...`),process.kill(e,t)}catch(e){}if(this.processExited)this.log(s+": Main process had already quit.");else{if(this.childProcess.pid)try{this.log(`${s}: Terminating main process with ${t}...`),process.kill(this.childProcess.pid,t)}catch(e){}else this.log(s+": Process had no PID.");yield this.tryRemoveAllBreakpointsAndResumeAllThreads(s)}}else if(!this.shouldKillProcessOnTerminate&&this.vmService){this.log(s+": Disconnecting from process..."),yield this.tryRemoveAllBreakpointsAndResumeAllThreads(s);try{this.log(s+": Closing VM service connection..."),this.vmService.close()}catch(e){}finally{this.vmService=void 0}}else this.log(s+": Did not need to terminate processes");this.log(s+": Removing all stored data..."),this.threadManager.removeAllStoredData(),this.log(s+": Waiting for process to finish..."),yield this.processExit,this.log(s+": Disconnecting...")}))}tryRemoveAllBreakpointsAndResumeAllThreads(e){return r(this,void 0,void 0,(function*(){this.log(e+": Disabling break-on-exception and removing all breakpoints"),yield this.raceIgnoringErrors(()=>Promise.all([this.threadManager.setExceptionPauseMode("None"),this.threadManager.threads.map(e=>e.removeAllBreakpoints())])),this.log(e+": Unpausing all threads..."),yield this.raceIgnoringErrors(()=>Promise.all([this.threadManager.threads.map(e=>e.resume())]))}))}raceIgnoringErrors(e,t=250){return r(this,void 0,void 0,(function*(){try{return yield this.withTimeout(e(),t),!0}catch(e){return this.log("Error while while waiting for action: "+e),!1}}))}terminateRequest(e,t){const s=Object.create(null,{terminateRequest:{get:()=>super.terminateRequest}});return r(this,void 0,void 0,(function*(){if(this.log("Termination requested!"),this.isTerminating=!0,this.startProgress(h.debugTerminatingProgressId,"Terminating debug session"),this.expectAdditionalPidToTerminate&&!this.additionalPidsToTerminate.size){this.log("Waiting for main process PID before terminating"),this.updateProgress(h.debugTerminatingProgressId,"Waiting for process");(yield this.raceIgnoringErrors(()=>this.additionalPidCompleter.promise,2e4))?this.log("Got main process PID, continuing..."):this.log("Timed out waiting for main process PID, continuing anyway..."),this.updateProgress(h.debugTerminatingProgressId,"Terminating process")}s.terminateRequest.call(this,e,t);try{yield this.terminate(!1)}catch(e){this.logger.error(e),this.logToUser(e.message||e)}}))}disconnectRequest(e,t){const s=Object.create(null,{disconnectRequest:{get:()=>super.disconnectRequest}});return r(this,void 0,void 0,(function*(){this.log("Disconnect requested!"),this.isTerminating=!0;try{(yield this.raceIgnoringErrors(()=>this.terminate(!1),2e3))||(yield this.terminate(!0))}catch(t){return this.errorResponse(e,""+t)}yield this.raceIgnoringErrors(()=>this.lastLoggingEvent,500),yield new Promise(e=>setTimeout(e,10)),s.disconnectRequest.call(this,e,t)}))}setBreakPointsRequest(e,t){return r(this,void 0,void 0,(function*(){if(this.noDebug)return e.body={breakpoints:(t.breakpoints||[]).map(e=>({verified:!1}))},void this.sendResponse(e);const s=t.source,r=t.breakpoints||[],i=_.formatPathForVm(s.path||s.name);try{const t=yield this.threadManager.setBreakpoints(i,r),s=[];for(const e of t)s.push({verified:!!e});e.body={breakpoints:s},this.sendResponse(e)}catch(t){this.errorResponse(e,""+t)}}))}setExceptionBreakPointsRequest(e,t){return r(this,void 0,void 0,(function*(){const s=t.filters;let r="None";this.noDebug||(-1!==s.indexOf("Unhandled")&&(r="Unhandled"),-1!==s.indexOf("All")&&(r="All")),yield this.threadManager.setExceptionPauseMode(r),this.sendResponse(e)}))}configurationDoneRequest(e,t){this.sendResponse(e),this.threadManager.receivedConfigurationDone()}pauseRequest(e,t){const s=this.threadManager.getThreadInfoFromNumber(t.threadId);s?this.vmService?this.vmService.pause(s.ref.id).then(t=>this.sendResponse(e)).catch(t=>this.errorResponse(e,""+t)):this.errorResponse(e,"No VM service connection"):this.errorResponse(e,"No thread with id "+t.threadId)}sourceRequest(e,t){const s=t.sourceReference,r=this.threadManager.getStoredData(s),i=r.data;r.thread.getScript(i).then(t=>{t.source?e.body={content:t.source,mimeType:"text/x-dart"}:(e.success=!1,e.message="<source not available>"),this.sendResponse(e)}).catch(t=>this.errorResponse(e,""+t))}threadsRequest(e){e.body={threads:this.threadManager.getThreads()},this.sendResponse(e)}stackTraceRequest(e,t){const s=this.threadManager.getThreadInfoFromNumber(t.threadId),r=t.startFrame||0;let n=t.levels;s?this.vmService?this.vmService.getStack(s.ref.id).then(t=>{const o=t.result;let a=o.asyncCausalFrames||o.frames;const l=a.length;n||(n=l),r+n>l&&(n=l-r),a=a.slice(r,r+n);const u=[],h=[],d=!!a.find(e=>{var t,s,r,i;return(null===(s=null===(t=e.location)||void 0===t?void 0:t.script)||void 0===s?void 0:s.uri)&&void 0===this.getNonDebuggableFrameReason(null===(i=null===(r=e.location)||void 0===r?void 0:r.script)||void 0===i?void 0:i.uri)});a.forEach(e=>{const t=s.storeData(e);if("AsyncSuspensionMarker"===e.kind){const e=new c.StackFrame(t,"<asynchronous gap>");return e.presentationHint="label",void u.push(e)}const r=e&&e.code&&e.code.name?e.code.name.startsWith("[Unoptimized] ")?e.code.name.substring("[Unoptimized] ".length):e.code.name:"<unknown>",n=e.location;if(!n){const e=new c.StackFrame(t,r);return e.presentationHint="subtle",void u.push(e)}const o=n.script.uri;let a,l=this.convertVMUriToSourcePath(o),p=l&&i.existsSync(l);o.startsWith("dart:")&&(l=void 0,a=s.storeData(n.script),p=!0);const g=this.formatUriForShortDisplay(o),f=new c.StackFrame(t,r,p?new c.Source(g,l,a,void 0,n.script):void 0,0,0),m=0===u.length,v=0!==s.exceptionReference,b=!m||v&&d;if(f.source&&b){const e=this.getNonDebuggableFrameReason(o);"SDK"===e?(f.source.origin="from the Dart SDK",f.source.presentationHint="deemphasize"):"PACKAGE"===e&&(f.source.origin=o.startsWith("package:flutter/")?"from the Flutter framework":"from Pub packages",f.source.presentationHint="deemphasize")}u.push(f);const S=s.getScript(n.script).then(e=>{const t=this.resolveFileLocation(e,n.tokenPos);t&&(f.line=t.line,f.column=t.column)});h.push(S)}),e.body={stackFrames:u,totalFrames:l},Promise.all(h).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendResponse(e)})}).catch(t=>this.errorResponse(e,""+t)):this.errorResponse(e,"No VM service connection"):this.errorResponse(e,"No thread with id "+t.threadId)}getNonDebuggableFrameReason(e){return!this.isValidToDebug(e)||this.isSdkLibrary(e)&&!this.debugSdkLibraries?"SDK":this.isExternalLibrary(e)&&!this.debugExternalLibraries?"PACKAGE":void 0}scopesRequest(e,t){const s=t.frameId,r=this.threadManager.getStoredData(s),i=r.data,n=r.thread.storeData(i),o=[];r.thread.exceptionReference&&o.push(new c.Scope("Exception",r.thread.exceptionReference)),o.push(new c.Scope("Locals",n)),e.body={scopes:o},this.sendResponse(e)}variablesRequest(e,t){return r(this,void 0,void 0,(function*(){if(!this.vmService)return void this.errorResponse(e,"No VM service connection");const s=t.variablesReference,i=t.start||0,n=t.count,o=this.threadManager.getStoredData(s);if(!o)return void this.errorResponse(e,"Variable is no longer available (maybe debug session finished?)");const a=o.thread;if("Frame"===o.data.type){const t=o.data;let s=[];if(t.vars){const e=t.vars.filter(e=>!e.value||"@TypeArguments"!==e.value.type).map((e,t)=>this.instanceRefToVariable(a,!0,e.name,e.name,e.value,t<=100)),r=yield Promise.all(e);s=s.concat(r)}e.body={variables:s},this.sendResponse(e)}else if("MapEntry"===o.data.type){const t=o.data,s=this.vmService.getObject(a.ref.id,t.keyId),r=this.vmService.getObject(a.ref.id,t.valueId),i=[];let n=!1,c="value";try{const e=(yield s).result;i.push(yield this.instanceRefToVariable(a,!1,"key","key",e,!0)),this.isSimpleKind(e.kind)&&t.mapEvaluateName&&(n=!0,c=`${t.mapEvaluateName}[${this.valueAsString(e)}]`)}catch(e){i.push({name:"key",value:this.errorAsDisplayValue(e),variablesReference:0})}try{const e=(yield r).result;i.push(yield this.instanceRefToVariable(a,n,c,"value",e,!0))}catch(e){i.push({name:"value",value:this.errorAsDisplayValue(e),variablesReference:0})}e.body={variables:i},this.sendResponse(e)}else if(o.data.type===k.type){const t=o.data;e.body={variables:[{name:"insp",value:"<inspected variable>",variablesReference:t.variablesReference}]},this.sendResponse(e)}else{const t=o.data;try{const s=yield this.vmService.getObject(a.ref.id,t.id,i,n);let o=[];const c=void 0!==t.evaluateName;if("Sentinel"===s.result.type)o.push({name:"<evalError>",value:s.result.valueAsString,variablesReference:0});else{const e=s.result;if("Instance"===e.type){const s=e;if(this.isSimpleKind(s.kind))o.push(yield this.instanceRefToVariable(a,c,""+t.evaluateName,s.kind,t,!0));else if(s.elements){const e=s.elements.map((e,s)=>r(this,void 0,void 0,(function*(){return this.instanceRefToVariable(a,c,`${t.evaluateName}[${s+i}]`,`[${s+i}]`,e,s<=100)}))),n=yield Promise.all(e);o=o.concat(n)}else if(s.associations){const e=s.associations.length;for(let r=0;r<e;r++){const e=s.associations[r],n=this.valueAsString(e.key,!0),c=this.valueAsString(e.value,!0);let l=0;if("Sentinel"!==e.key.type&&"Sentinel"!==e.value.type){const s={keyId:e.key.id,mapEvaluateName:t.evaluateName,type:"MapEntry",valueId:e.value.id};l=a.storeData(s)}o.push({name:""+(r+i),type:`${n} -> ${c}`,value:`${n} -> ${c}`,variablesReference:l})}}else if(s.fields){let e=[];const i=m.sortBy(s.fields,e=>e.decl.name).map((e,s)=>r(this,void 0,void 0,(function*(){return this.instanceRefToVariable(a,c,`${t.evaluateName}.${e.decl.name}`,e.decl.name,e.value,s<=100)})));if(e=e.concat(i),this.evaluateGettersInDebugViews&&s.class){let i=yield this.getGetterNamesForHierarchy(a.ref,s.class);i=i.sort();const n=i.map((e,i)=>r(this,void 0,void 0,(function*(){try{const r=yield this.vmService.evaluate(a.ref.id,t.id,e,!0);if("@Error"===r.result.type)return{name:e,value:r.result.message,variablesReference:0};if("Sentinel"===r.result.type)return{name:e,value:r.result.valueAsString,variablesReference:0};{const n=r.result;return this.instanceRefToVariable(a,c,`${t.evaluateName}.${e}`,e,n,s.fields.length+i<=100)}}catch(t){return{name:e,value:this.errorAsDisplayValue(t),variablesReference:0}}})));e=e.concat(n);const l=yield Promise.all(e);o=o.concat(l)}yield Promise.all(e)}else this.logToUser(`Unknown instance kind: ${s.kind}. ${h.pleaseReportBug}\n`)}else this.logToUser(`Unknown object type: ${e.type}. ${h.pleaseReportBug}\n`)}e.body={variables:o},this.sendResponse(e)}catch(t){e.body={variables:[{name:"<error>",value:this.errorAsDisplayValue(t),variablesReference:0}]},this.sendResponse(e)}}}))}errorAsDisplayValue(e){if(!e)return"<unknown error>";const t=""+(e.message||e);return t?`<${t.split("\n")[0].trim()}>`:"<unknown error>"}getGetterNamesForHierarchy(e,t){return r(this,void 0,void 0,(function*(){let s=[];for(;this.vmService&&t;){const r=yield this.vmService.getObject(e.id,t.id);if("Class"!==r.result.type)break;const i=r.result;s=s.concat(s,i.functions.filter(e=>"GetterFunction"===e._kind&&!e.static&&!e.const).map(e=>e.name)),t=i.super}return s=f.uniq(s),s.filter(e=>"_identityHashCode"!==e)}))}isSimpleKind(e){return"String"===e||"Bool"===e||"Int"===e||"Num"===e||"Double"===e||"Null"===e||"Closure"===e}callToString(e,t,s=!1){return r(this,void 0,void 0,(function*(){if(this.vmService)try{const r=this.vmServiceCapabilities.hasInvoke?yield this.vmService.invoke(e.id,t.id,"toString",[],!0):yield this.vmService.evaluate(e.id,t.id,"toString()",!0);if("@Error"===r.result.type)return;{let t=r.result;if(t.valueAsStringIsTruncated&&s){t=(yield this.vmService.getObject(e.id,t.id)).result}return this.valueAsString(t,void 0,!0)}}catch(e){return void this.logger.error(e)}}))}setVariableRequest(e,t){this.errorResponse(e,"not supported")}continueRequest(e,t){const s=this.threadManager.getThreadInfoFromNumber(t.threadId);s?s.resume().then(t=>{e.body={allThreadsContinued:!1},this.sendResponse(e)}).catch(t=>this.errorResponse(e,""+t)):this.errorResponse(e,"No thread with id "+t.threadId)}nextRequest(e,t){const s=this.threadManager.getThreadInfoFromNumber(t.threadId);if(!s)return void this.errorResponse(e,"No thread with id "+t.threadId);const r=s.atAsyncSuspension?"OverAsyncSuspension":"Over";s.resume(r).then(t=>{this.sendResponse(e)}).catch(t=>this.errorResponse(e,""+t))}stepInRequest(e,t){const s=this.threadManager.getThreadInfoFromNumber(t.threadId);s?s.resume("Into").then(t=>{this.sendResponse(e)}).catch(t=>this.errorResponse(e,""+t)):this.errorResponse(e,"No thread with id "+t.threadId)}stepOutRequest(e,t){const s=this.threadManager.getThreadInfoFromNumber(t.threadId);s?s.resume("Out").then(t=>{this.sendResponse(e)}).catch(t=>this.errorResponse(e,""+t)):this.errorResponse(e,"No thread with id "+t.threadId)}restartFrameRequest(e,t){const s=t.frameId;if(!s)return void this.errorResponse(e,"unable to restart with no frame");const r=this.threadManager.getStoredData(s),i=r.thread,n=r.data;i.resume("Rewind",n.index).then(t=>{this.sendResponse(e)}).catch(t=>this.errorResponse(e,""+t))}reverseContinueRequest(e,t){this.logToUser("Reverse continue is not supported\n"),this.errorResponse(e,"Reverse continue is not supported for the Dart debugger")}evaluateRequest(e,t){return r(this,void 0,void 0,(function*(){const s="clipboard"===t.context,r="watch"===t.context,i=t.expression.replace(I,""),n=t.frameId,o=n?this.threadManager.getStoredData(n):void 0,a=o?o.thread:this.threadManager.threads[0];try{let t;if(o){const s=o.data;if(("$e"===i||i.startsWith("$e."))&&a.exceptionReference){const s=this.threadManager.getStoredData(a.exceptionReference),r=s&&s.data;if("$e"===i)return e.body={result:(yield this.fullValueAsString(a.ref,r))||"<unknown>",variablesReference:a.exceptionReference},void this.sendResponse(e);const n=r&&r.id;n&&(t=yield this.vmService.evaluate(a.ref.id,n,i.substr(3),!0))}t||(t=yield this.withTimeout(this.vmService.evaluateInFrame(a.ref.id,s.index,i,!0)))}else{if(!this.vmService||!a)return void this.errorResponse(e,"global evaluation requires a thread to have been loaded");const s=(yield this.vmService.getIsolate(a.ref.id)).result.rootLib;if(!s)return void this.errorResponse(e,"global evaluation requires a rootLib on the initial thread");t=yield this.withTimeout(this.vmService.evaluate(a.ref.id,s.id,i,!0))}if(t)if("@Error"===t.result.type){let s=t.result.message;s&&(s=s.split("\n").slice(0,6).join("\n")),this.errorResponse(e,s)}else{const r=t.result;r.evaluateName=i;const n=yield this.fullValueAsString(a.ref,r,s);e.body={result:n||"<unknown>",variablesReference:this.isSimpleKind(r.kind)?0:a.storeData(r)},this.sendResponse(e)}else this.errorResponse(e,"No evaluation result")}catch(t){t&&t.message&&-1!==t.message.indexOf("UnimplementedError")?this.errorResponse(e,"<not yet implemented>"):r&&t&&t.message&&-1!==t.message.indexOf("Expression compilation error")||r&&t&&t.message&&-1!==t.message.indexOf("noSuchMethodException")?this.errorResponse(e,"not available"):t&&t.data&&t.data.details?this.errorResponse(e,""+t.data.details):t&&t.message?this.errorResponse(e,""+t.message):this.errorResponse(e,""+t)}}))}withTimeout(e,t=1e3){return new Promise((s,r)=>{const i=setTimeout(()=>{r(new Error("<timed out>"))},t);e.then(e=>{clearTimeout(i),s(e)}).catch(r)})}exposeUrl(e){return r(this,void 0,void 0,(function*(){if(this.urlExposeCompleters[e])return this.urlExposeCompleters[e].promise;const t=new f.PromiseCompleter;return this.urlExposeCompleters[e]=t,this.sendEvent(new c.Event("dart.exposeUrl",{url:e})),t.promise}))}startProgress(e,t){t=(t=t||"Working").endsWith("…")||t.endsWith("...")?t:t+"…",this.sendEvent(new c.Event("dart.progressStart",{progressID:e,message:t}))}updateProgress(e,t){t&&(t=t.endsWith("…")||t.endsWith("...")?t:t+"…",this.sendEvent(new c.Event("dart.progressUpdate",{progressID:e,message:t})))}endProgress(e,t){this.sendEvent(new c.Event("dart.progressEnd",{progressID:e,message:t}))}customRequest(e,t,s){const i=Object.create(null,{customRequest:{get:()=>super.customRequest}});return r(this,void 0,void 0,(function*(){try{switch(e){case"service":yield this.callService(s.type,s.params),this.sendResponse(t);break;case"exposeUrlResponse":const r=this.urlExposeCompleters[s.originalUrl];r&&r.resolve({url:s.exposedUrl});break;case"updateDebugOptions":this.debugExternalLibraries=!!s.debugExternalLibraries,this.debugSdkLibraries=!!s.debugSdkLibraries,yield this.threadManager.setLibrariesDuggableForAllIsolates(),this.sendResponse(t);break;case"serviceExtension":case"checkPlatformOverride":case"checkBrightnessOverride":case"checkIsWidgetCreationTracked":case"hotReload":case"hotRestart":this.log(`Ignoring Flutter customRequest ${e} for non-Flutter-run app`,d.LogSeverity.Warn),this.sendResponse(t);break;default:this.log("Unknown customRequest "+e,d.LogSeverity.Warn),i.customRequest.call(this,e,t,s)}}catch(s){this.logger.error(`Error handling '${e}' custom request: ${s}`),this.errorResponse(t,s&&s.message)}}))}handleIsolateEvent(e){return r(this,void 0,void 0,(function*(){yield this.debuggerInit;const t=e.kind;"IsolateStart"===t||"IsolateRunnable"===t?yield this.threadManager.registerThread(e.isolate,t):"IsolateExit"===t?this.threadManager.handleIsolateExit(e.isolate):"ServiceExtensionAdded"===t&&this.handleServiceExtensionAdded(e)}))}handleExtensionEvent(e){}handleServiceEvent(e){return r(this,void 0,void 0,(function*(){yield this.debuggerInit;"ServiceRegistered"===e.kind&&this.handleServiceRegistered(e)}))}handleLoggingEvent(e){return r(this,void 0,void 0,(function*(){this.lastLoggingEvent=this.lastLoggingEvent.then(()=>this.processLoggingEvent(e))}))}processLoggingEvent(e){return r(this,void 0,void 0,(function*(){if("Logging"===e.kind&&e.logRecord){const t=e.logRecord;if(t){const s=`[${(t.loggerName?this.valueAsString(t.loggerName,!1,!0):void 0)||"log"}] `;let i=" ".repeat(s.length);const n=(e,t,s,i,n="console")=>r(this,void 0,void 0,(function*(){const r=yield this.fullValueAsString(e.isolate,t,!0);if(r){const e=`${v.grey(s)}${r.split("\n").join("\n"+i)}`;this.logToUser(e.trimRight()+"\n",n)}}));t.message&&"Null"!==t.message.kind&&(yield n(e,t.message,s,i)),i+="  ",t.error&&"Null"!==t.error.kind&&(yield n(e,t.error,s,i,"stderr")),t.stackTrace&&"Null"!==t.stackTrace.kind&&(yield n(e,t.stackTrace,s,i,"stderr"))}}}))}handleDebugEvent(e){return r(this,void 0,void 0,(function*(){yield this.debuggerInit;try{const t=e.kind;t.startsWith("Pause")?yield this.handlePauseEvent(e):"Inspect"===t&&(yield this.handleInspectEvent(e))}catch(e){this.logger.error(e)}}))}handlePauseEvent(e){return r(this,void 0,void 0,(function*(){if(!e.isolate)return void this.logger.warn(`Unable to handle pause event (${e.kind}) that had no isolate`);const t=e.kind,s=this.threadManager.getThreadInfoFromRef(e.isolate);if(s)if(this.vmService)if("PausePostRequest"===t){try{yield this.threadManager.resetBreakpoints()}catch(e){this.logger.error(e)}try{yield this.vmService.resume(e.isolate.id)}catch(e){if(106!==e.code)throw e}}else if("PauseStart"===t)this.childProcess?s.receivedPauseStart():(s.handlePaused(e.atAsyncSuspension,e.exception),yield s.resume("Into"));else{let r,i="pause",n=!0;if("PauseBreakpoint"===t&&e.pauseBreakpoints&&e.pauseBreakpoints.length){i="breakpoint";const t=e.pauseBreakpoints.map(e=>s.breakpoints[e.id]);if(!(-1!==t.indexOf(void 0))){const e=t.filter(f.notUndefined),r=!!e.find(e=>!e.condition&&!e.logMessage),i=e.filter(e=>e.condition),o=e.filter(e=>e.logMessage);n=r||(yield this.anyBreakpointConditionReturnsTrue(i,s));for(const e of o){if(!e.logMessage)continue;const t=`print("""${e.logMessage.replace(/(^|[^\\\$]){/g,"$1${").replace(/\\({)/g,"$1").replace(/"""/g,'\\"\\"\\"')}""")`;yield this.evaluateAndSendErrors(s,t)}}}else"PauseBreakpoint"===t?i="step":"PauseException"===t&&(i="exception",r=e.exception?yield this.fullValueAsString(e.isolate,e.exception):void 0);s.handlePaused(e.atAsyncSuspension,e.exception),n?this.sendEvent(new c.StoppedEvent(i,s.num,r)):yield s.resume()}else this.logger.warn("No VM service connection");else this.logger.warn(`ThreadManager couldn't find thread with ref ${e.isolate.id} to handle ${t}`)}))}handleInspectEvent(e){return r(this,void 0,void 0,(function*(){const t=e.isolate,s=e.inspectee,r=t?this.threadManager.getThreadInfoFromRef(t):void 0;if(t&&s&&r){yield this.fullValueAsString(t,s,!1);this.sendVariable(r.storeData(new k(r.storeData(s))))}}))}sendVariable(e){const t=new c.OutputEvent("");t.body.variablesReference=e,this.sendEvent(t)}fullValueAsString(e,t,s=!1){return r(this,void 0,void 0,(function*(){let r;return t.valueAsStringIsTruncated||(r=this.valueAsString(t,!1,s)),!r&&e&&(r=yield this.callToString(e,t,!0)),"PlainInstance"===t.kind&&t.class&&t.class.name&&(r=r!==`Instance of '${t.class.name}'`&&r!==t.class.name&&r?`${t.class.name} (${r})`:t.class.name),r||(r=t.valueAsString),r}))}anyBreakpointConditionReturnsTrue(e,t){return r(this,void 0,void 0,(function*(){for(const s of e){const e=yield this.evaluateAndSendErrors(t,s.condition);if(e){if("Bool"===e.kind&&"true"===e.valueAsString||"Int"===e.kind&&"0"!==e.valueAsString||"Double"===e.kind&&"0"!==e.valueAsString)return!0}}return!1}))}callService(e,t){if(!this.vmService)throw new Error("VM service connection is not available");return this.vmService.callMethod(e,t)}evaluateAndSendErrors(e,t){return r(this,void 0,void 0,(function*(){if(this.vmService)try{const s=yield this.vmService.evaluateInFrame(e.ref.id,0,t,!0);if("@Error"!==s.result.type)return s.result;this.logToUser(`Debugger failed to evaluate expression \`${t}\`\n`)}catch(e){this.logToUser(`Debugger failed to evaluate expression \`${t}\`\n`)}}))}handleServiceExtensionAdded(e){e&&e.extensionRPC&&this.notifyServiceExtensionAvailable(e.extensionRPC,e.isolate?e.isolate.id:void 0)}handleServiceRegistered(e){e&&e.service&&this.notifyServiceRegistered(e.service,e.method)}notifyServiceExtensionAvailable(e,t){this.sendEvent(new c.Event("dart.serviceExtensionAdded",{id:e,isolateId:t}))}notifyServiceRegistered(e,t){this.sendEvent(new c.Event("dart.serviceRegistered",{service:e,method:t}))}errorResponse(e,t){e.success=!1,e.message=t,this.sendResponse(e)}formatUriForShortDisplay(e){e.startsWith("file:")&&(e=f.uriToFilePath(e),this.cwd&&(e=o.relative(this.cwd,e)));const t=-1===e.indexOf("/")&&-1!==e.indexOf("\\")?"\\":"/",s=e.split(t);return s.length>3?[s[0],"…",s[s.length-2],s[s.length-1]].join(t):e}convertVMUriToSourcePath(e,t){return e.startsWith("file:")?f.uriToFilePath(e,t):e.startsWith("package:")&&this.packageMap?this.packageMap.resolvePackageUri(e):e}valueAsString(e,t=!0,s=!1){if("Sentinel"===e.type)return e.valueAsString;const r=e;if("String"===e.kind||e.valueAsString){let e=r.valueAsString;return r.valueAsStringIsTruncated&&(e+="…"),"String"!==r.kind||s||(e=`"${e}"`),e}if("List"===e.kind)return`List (${r.length} ${1===r.length?"item":"items"})`;if("Map"===e.kind)return`Map (${r.length} ${1===r.length?"item":"items"})`;if("Type"===e.kind){return`Type (${e.name})`}return t?this.getFriendlyTypeName(r):void 0}getFriendlyTypeName(e){return"PlainInstance"!==e.kind?e.kind:e.class.name}instanceRefToVariable(e,t,s,i,n,o){return r(this,void 0,void 0,(function*(){if("Sentinel"===n.type)return{name:i,value:n.valueAsString,variablesReference:0};{const r=n;r.evaluateName=t?s:void 0;const a=this.evaluateToStringInDebugViews&&o&&!r.valueAsString?yield this.fullValueAsString(e.ref,r):this.valueAsString(r);return{evaluateName:t?s:void 0,indexedVariables:r&&r.kind&&r.kind.endsWith("List")?r.length:void 0,name:i,type:`${r.kind} (${r.class.name})`,value:a||"",variablesReference:r.valueAsString?0:e.storeData(r)}}}))}isValidToDebug(e){return this.supportsDebugInternalLibraries||!e.startsWith("dart:_")}isSdkLibrary(e){return e.startsWith("dart:")}isExternalLibrary(e){if(!e.startsWith("package:")||!this.packageMap)return!1;if(e.startsWith("package:flutter/")||e.startsWith("package:flutter_test/"))return!0;const t=this.packageMap.resolvePackageUri(e);return!!t&&(-1!==t.indexOf("/hosted/pub.dartlang.org/")||-1!==t.indexOf("\\hosted\\pub.dartlang.org\\"))}resolveFileLocation(e,t){const s=e.tokenPosTable;for(const e of s)for(let s=1;s<e.length;s+=2)if(e[s]===t){return{line:e[0],column:e[s+1]}}}pollForMemoryUsage(){return r(this,void 0,void 0,(function*(){if(!this.childProcess||this.childProcess.killed||!this.vmService)return;const e=(yield this.vmService.getVM()).result.isolates.map(e=>this.vmService.getIsolate(e.id)),t=(yield Promise.all(e)).map(e=>e.result);let s=0,r=0;for(const e of t)if(e._heaps)for(const t of[e._heaps.old,e._heaps.new])s+=t.used+t.external,r+=t.capacity+t.external;this.sendEvent(new c.Event("dart.debugMetrics",{memory:{current:s,total:r}})),this.pollforMemoryMs&&setTimeout(()=>this.pollForMemoryUsage(),this.pollforMemoryMs).unref()}))}getStackFrameData(e){const t=e&&R.exec(e);if(t)return{col:parseInt(t[4],10),line:parseInt(t[3],10),prefix:t[1],sourceUri:t[2]}}getWebStackFrameData(e){const t=e&&T.exec(e);if(t)return{col:parseInt(t[3],10),line:parseInt(t[2],10),prefix:t[4],sourceUri:t[1]}}getMessageWithUriData(e){const t=e&&w.exec(e);if(t)return{col:parseInt(t[4],10),line:parseInt(t[3],10),prefix:t[1],sourceUri:t[2]}}logToUserBuffered(e,t){this.logBuffer[t]=this.logBuffer[t]||"",this.logBuffer[t]+=e;const s=this.logBuffer[t].lastIndexOf("\n");if(-1!==s){const e=this.logBuffer[t].substr(0,s+1);this.logBuffer[t]=this.logBuffer[t].substr(s+1),this.logToUser(e,t)}}logToUser(e,t,s=(e=>e)){const r=this.getStackFrameData(e)||this.getWebStackFrameData(e)||this.getMessageWithUriData(e),n=-1!==e.trimRight().indexOf("\n");if(r&&n)return void e.split("\n").forEach(e=>this.logToUser(e+"\n",t));const o=new c.OutputEvent(""+v.applyColor(e,s),t);if(r){const e=this.convertVMUriToSourcePath(r.sourceUri),t=e&&e!==r.sourceUri&&i.existsSync(e),s=this.formatUriForShortDisplay(r.sourceUri),n=t?new c.Source(s,e,void 0,void 0,void 0):void 0;let a=`${r.prefix} (${r.sourceUri}:${r.line}:${r.col})`;n&&(o.body.source=n,o.body.line=r.line,o.body.column=r.col,a=r.prefix);const l=this.isSdkLibrary(r.sourceUri)||this.isExternalLibrary(r.sourceUri)&&(r.sourceUri.startsWith("package:flutter/")||r.sourceUri.startsWith("package:flutter_test/"))?v.applyColor(a,v.grey):v.applyColor(a,v.grey2);o.body.output=l+"\n"}else"stderr"===t&&o.body.output.trim().startsWith("<async")&&o.body.output.trim().endsWith(">")&&(o.body.output=v.applyColor(o.body.output.trimRight(),v.grey)+"\n");this.sendEvent(o)}}t.DartDebugSession=L;class P{constructor(e){this.pid=e,this.killed=!1}}class k{constructor(e){this.variablesReference=e}get type(){return k.type}}k.type="InspectedVariable"},function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DartTestDebugSession=void 0;const i=s(2),n=s(42),o=s(4),a=s(8),c=s(105),l=s(64),u=s(289);class h extends c.DartDebugSession{constructor(){super(),this.suitePaths=[],this.tests=[],this.sendStdOutToConsole=!1,this.allowWriteServiceInfo=!1,this.requiresProgram=!1}spawnProcess(e){let t=[];this.shouldConnectDebugger&&(this.expectAdditionalPidToTerminate=!0,t.push("--enable-vm-service=0"),t.push("--pause_isolates_on_start=true")),e.vmAdditionalArgs&&(t=t.concat(e.vmAdditionalArgs)),t.push(e.pubSnapshotPath),t=t.concat(["run","test","-r","json"]),t.push("-j1"),e.program&&t.push(this.sourceFileForArgs(e)),e.args&&(t=t.concat(e.args));const s=new l.DebugAdapterLogger(this,a.LogCategory.PubTest);return this.createRunner(e.dartPath,e.cwd,e.program,t,e.env,e.pubTestLogFile,s,e.maxLogLineLength)}createRunner(e,t,s,i,n,a,c,l){const h=new u.TestRunner(e,t,i,{envOverrides:n,toolEnv:this.toolEnv},a,c,l);return h.registerForUnhandledMessages(e=>{-1!==e.toLowerCase().indexOf("waiting for current test(s) to finish")&&this.updateProgress(o.debugTerminatingProgressId,""+e.trim()),this.logToUserIfAppropriate(e,"stdout")}),h.registerForTestStartedProcess(e=>this.initDebugger(e.observatoryUri+"ws")),h.registerForAllTestNotifications(e=>r(this,void 0,void 0,(function*(){try{yield this.handleTestEvent(e)}catch(e){this.log(e),this.logToUser(e+"\n")}try{this.sendTestEventToEditor(e)}catch(e){this.log(e),this.logToUser(e+"\n")}}))),h.process}logToUserIfAppropriate(e,t){e&&e.startsWith("Observatory listening on")||e&&e.startsWith("Press Control-C again")||this.logToUser(e,t)}handleTestEvent(e){return r(this,void 0,void 0,(function*(){switch(e.type){case"start":const t=e.pid;t&&this.recordAdditionalPid(t);break;case"debug":const s=e.observatory;if(s){const e=o.vmServiceHttpLinkPattern.exec(s);e&&(yield this.initDebugger(this.vmServiceWsUriFor(e[1])))}break;case"suite":const r=e;!i.isAbsolute(r.suite.path)&&this.cwd&&(r.suite.path=i.join(this.cwd,r.suite.path)),this.suitePaths[r.suite.id]=r.suite.path;break;case"testStart":const a=e;this.tests[a.test.id]=a.test;break;case"testDone":const c=e;if(c.hidden)return;const l="success"===c.result?"✓":"✖";this.sendEvent(new n.OutputEvent(`${l} ${this.tests[c.testID].name}\n`,"stdout"));break;case"print":const u=e;this.sendEvent(new n.OutputEvent(u.message+"\n","stdout"));break;case"error":const h=e;this.sendEvent(new n.OutputEvent(h.error+"\n","stderr")),this.sendEvent(new n.OutputEvent(h.stackTrace+"\n","stderr"))}}))}sendTestEventToEditor(e){let t;switch(e.type){case"suite":t=e.suite.id;break;case"group":t=e.group.suiteID;break;case"testStart":t=e.test.suiteID;break;case"testDone":const s=e;t=this.tests[s.testID].suiteID;break;case"print":const r=e;t=this.tests[r.testID].suiteID;break;case"error":const i=e;t=this.tests[i.testID].suiteID}const s=void 0!==t?this.suitePaths[t]:void 0;s&&this.sendEvent(new n.Event("dart.testRunNotification",{suitePath:s,notification:e}))}}t.DartTestDebugSession=h},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const i=s(5),n=s(2),o=s(270),a=s(103);var c;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(c=t.LogLevel||(t.LogLevel={}));class l{constructor(){this._pendingLogQ=[]}log(e,t=c.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,c.Verbose)}warn(e){this.log(e,c.Warn)}error(e){this.log(e,c.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=c.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,s=!0){const r="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:s};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,s){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new u(e,s),this._logFilePathFromInit=t}}t.Logger=l,t.logger=new l;class u{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=c.Warn,this.disposeCallback=(e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)}}setup(e){return r(this,void 0,void 0,(function*(){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(n.isAbsolute(e.logFilePath)){const t=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,c.Error);try{yield o(n.dirname(e.logFilePath)),this.log("Verbose logs are written to:\n",c.Warn),this.log(e.logFilePath+"\n",c.Warn),this._logFileStream=i.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",e=>{t(e)})}catch(e){t(e)}}else this.log("logFilePath must be an absolute path: "+e.logFilePath,c.Error)}))}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()+", "+p();this.log(t+"\n",c.Verbose,!1)}setupShutdownListeners(){process.addListener("beforeExit",this.beforeExitCallback),process.addListener("SIGTERM",this.disposeCallback),process.addListener("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise(e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()})}log(e,t,s=!0){if(this._minLogLevel!==c.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const s=t===c.Error?console.error:t===c.Warn?console.warn:null;s&&s(d(e))}t===c.Error&&(e=`[${c[t]}] ${e}`),this._prependTimestamp&&s&&(e="["+p()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",t&&(e+="\n")}if(this._logCallback){const s=new h(e,t);this._logCallback(s)}}}class h extends a.OutputEvent{constructor(e,t){super(e,t===c.Error?"stderr":t===c.Warn?"console":"stdout")}}function d(e){return e.replace(/(\n|\r\n)$/,"")}function p(){let e=new Date;return g(2,String(e.getUTCHours()))+":"+g(2,String(e.getUTCMinutes()))+":"+g(2,String(e.getUTCSeconds()))+"."+g(3,String(e.getUTCMilliseconds()))+" UTC"}function g(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.LogOutputEvent=h,t.trimLastNewline=d},function(e,t,s){const{dirname:r}=s(2),i=(e,t,s)=>{t.recursive=!1;const n=r(e);return n===e?t.mkdirAsync(e,t).catch(e=>{if("EISDIR"!==e.code)throw e}):t.mkdirAsync(e,t).then(()=>s||e,r=>{if("ENOENT"===r.code)return i(n,t).then(s=>i(e,t,s));if("EEXIST"!==r.code&&"EROFS"!==r.code)throw r;return t.statAsync(e).then(e=>{if(e.isDirectory())return s;throw r},()=>{throw r})})},n=(e,t,s)=>{const i=r(e);if(t.recursive=!1,i===e)try{return t.mkdirSync(e,t)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return t.mkdirSync(e,t),s||e}catch(r){if("ENOENT"===r.code)return n(e,t,n(i,t,s));if("EEXIST"!==r.code&&"EROFS"!==r.code)throw r;try{if(!t.statSync(e).isDirectory())throw r}catch(e){throw r}}};e.exports={mkdirpManual:i,mkdirpManualSync:n}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyColor=t.brightWhiteBackground=t.brightCyanBackground=t.brightMagentaBackground=t.brightBlueBackground=t.brightYellowBackground=t.brightGreenBackground=t.brightRedBackground=t.brightBlackBackground=t.whiteBackground=t.cyanBackground=t.magentaBackground=t.blueBackground=t.yellowBackground=t.greenBackground=t.redBackground=t.blackBackground=t.brightWhite=t.brightCyan=t.brightMagenta=t.brightBlue=t.brightYellow=t.brightGreen=t.brightRed=t.brightBlack=t.grey2=t.grey=t.white=t.cyan=t.magenta=t.blue=t.yellow=t.green=t.red=t.black=void 0;const r=(...e)=>`[${e.join(";")}m`;t.black=e=>`${r("38;5",0)}${e}${r("39;49")}`,t.red=e=>`${r("38;5",1)}${e}${r("39;49")}`,t.green=e=>`${r("38;5",2)}${e}${r("39;49")}`,t.yellow=e=>`${r("38;5",3)}${e}${r("39;49")}`,t.blue=e=>`${r("38;5",4)}${e}${r("39;49")}`,t.magenta=e=>`${r("38;5",5)}${e}${r("39;49")}`,t.cyan=e=>`${r("38;5",6)}${e}${r("39;49")}`,t.white=e=>`${r("38;5",7)}${e}${r("39;49")}`,t.grey=e=>`${r("38;5",244)}${e}${r("39;49")}`,t.grey2=e=>`${r("38;5",248)}${e}${r("39;49")}`,t.brightBlack=e=>`${r("38;5",8)}${e}${r("39;49")}`,t.brightRed=e=>`${r("38;5",9)}${e}${r("39;49")}`,t.brightGreen=e=>`${r("38;5",10)}${e}${r("39;49")}`,t.brightYellow=e=>`${r("38;5",11)}${e}${r("39;49")}`,t.brightBlue=e=>`${r("38;5",12)}${e}${r("39;49")}`,t.brightMagenta=e=>`${r("38;5",13)}${e}${r("39;49")}`,t.brightCyan=e=>`${r("38;5",14)}${e}${r("39;49")}`,t.brightWhite=e=>`${r("38;5",15)}${e}${r("39;49")}`,t.blackBackground=e=>`${r("48;5",8)}${e}${r("39;49")}`,t.redBackground=e=>`${r("48;5",1)}${e}${r("39;49")}`,t.greenBackground=e=>`${r("48;5",2)}${e}${r("39;49")}`,t.yellowBackground=e=>`${r("48;5",3)}${e}${r("39;49")}`,t.blueBackground=e=>`${r("48;5",4)}${e}${r("39;49")}`,t.magentaBackground=e=>`${r("48;5",5)}${e}${r("39;49")}`,t.cyanBackground=e=>`${r("48;5",6)}${e}${r("39;49")}`,t.whiteBackground=e=>`${r("48;5",7)}${e}${r("39;49")}`,t.brightBlackBackground=e=>`${r("48;5",8)}${e}${r("39;49")}`,t.brightRedBackground=e=>`${r("48;5",9)}${e}${r("39;49")}`,t.brightGreenBackground=e=>`${r("48;5",10)}${e}${r("39;49")}`,t.brightYellowBackground=e=>`${r("48;5",11)}${e}${r("39;49")}`,t.brightBlueBackground=e=>`${r("48;5",12)}${e}${r("39;49")}`,t.brightMagentaBackground=e=>`${r("48;5",13)}${e}${r("39;49")}`,t.brightCyanBackground=e=>`${r("48;5",14)}${e}${r("39;49")}`,t.brightWhiteBackground=e=>`${r("48;5",15)}${e}${r("39;49")}`;const i=new RegExp("^(\\s*)(\\S.*\\S)(\\s*)$");t.applyColor=function(e,t){const s=e&&i.exec(e);return s?`${s[1]}${t(s[2])}${s[3]}`:t(e)}},function(e,t,s){"use strict";const r=s(38),i=s(39),n=s(56),o=s(52),a=s(281),{randomBytes:c,createHash:l}=s(51),{URL:u}=s(29),h=s(62),d=s(134),p=s(136),{BINARY_TYPES:g,EMPTY_BUFFER:f,GUID:m,kStatusCode:v,kWebSocket:b,NOOP:S}=s(43),{addEventListener:y,removeEventListener:E}=s(284),{format:_,parse:R}=s(137),{toBuffer:T}=s(63),w=["CONNECTING","OPEN","CLOSING","CLOSED"],I=[8,13];class L extends r{constructor(e,t,s){super(),this.readyState=L.CONNECTING,this.protocol="",this._binaryType=g[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(s=t,t=void 0),function e(t,s,r,o){const a={protocolVersion:I[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...o,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!I.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${I.join(", ")})`);let d;s instanceof u?(d=s,t.url=s.href):(d=new u(s),t.url=s);const p="ws+unix:"===d.protocol;if(!(d.host||p&&d.pathname))throw new Error("Invalid URL: "+t.url);const g="wss:"===d.protocol||"https:"===d.protocol,f=g?443:80,v=c(16).toString("base64"),b=g?i.get:n.get;let S;a.createConnection=g?k:P,a.defaultPort=a.defaultPort||f,a.port=d.port||f,a.host=d.hostname.startsWith("[")?d.hostname.slice(1,-1):d.hostname,a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":v,Connection:"Upgrade",Upgrade:"websocket",...a.headers},a.path=d.pathname+d.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(S=new h(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=_({[h.extensionName]:S.offer()}));r&&(a.headers["Sec-WebSocket-Protocol"]=r);a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(d.username||d.password)&&(a.auth=`${d.username}:${d.password}`);if(p){const e=a.path.split(":");a.socketPath=e[0],a.path=e[1]}let y=t._req=b(a);a.timeout&&y.on("timeout",()=>{x(t,y,"Opening handshake has timed out")});y.on("error",e=>{t._req.aborted||(y=t._req=null,t.readyState=L.CLOSING,t.emit("error",e),t.emitClose())}),y.on("response",i=>{const n=i.headers.location,c=i.statusCode;if(n&&a.followRedirects&&c>=300&&c<400){if(++t._redirects>a.maxRedirects)return void x(t,y,"Maximum redirects exceeded");y.abort();const i=new u(n,s);e(t,i,r,o)}else t.emit("unexpected-response",y,i)||x(t,y,"Unexpected server response: "+i.statusCode)}),y.on("upgrade",(e,s,i)=>{if(t.emit("upgrade",e),t.readyState!==L.CONNECTING)return;y=t._req=null;const n=l("sha1").update(v+m).digest("base64");if(e.headers["sec-websocket-accept"]!==n)return void x(t,s,"Invalid Sec-WebSocket-Accept header");const o=e.headers["sec-websocket-protocol"],c=(r||"").split(/, */);let u;if(!r&&o?u="Server sent a subprotocol but none was requested":r&&!o?u="Server sent no subprotocol":o&&!c.includes(o)&&(u="Server sent an invalid subprotocol"),u)x(t,s,u);else{if(o&&(t.protocol=o),S)try{const s=R(e.headers["sec-websocket-extensions"]);s[h.extensionName]&&(S.accept(s[h.extensionName]),t._extensions[h.extensionName]=S)}catch(e){return void x(t,s,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(s,i,a.maxPayload)}})}(this,e,t,s)):this._isServer=!0}get CONNECTING(){return L.CONNECTING}get CLOSING(){return L.CLOSING}get CLOSED(){return L.CLOSED}get OPEN(){return L.OPEN}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,s){const r=new d(this._binaryType,this._extensions,this._isServer,s);this._sender=new p(e,this._extensions),this._receiver=r,this._socket=e,r[b]=this,e[b]=this,r.on("conclude",O),r.on("drain",A),r.on("error",C),r.on("message",$),r.on("ping",M),r.on("pong",F),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",U),e.on("data",B),e.on("end",q),e.on("error",W),this.readyState=L.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this.readyState=L.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this.readyState=L.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==L.CLOSED){if(this.readyState===L.CONNECTING){const e="WebSocket was closed before the connection was established";return x(this,this._req,e)}this.readyState!==L.CLOSING?(this.readyState=L.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,s){if(this.readyState===L.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(s=e,e=t=void 0):"function"==typeof t&&(s=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===L.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||f,t,s)):D(this,e,s)}pong(e,t,s){if(this.readyState===L.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(s=e,e=t=void 0):"function"==typeof t&&(s=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===L.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||f,t,s)):D(this,e,s)}send(e,t,s){if(this.readyState===L.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(s=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==L.OPEN)return void D(this,e,s);const r={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(r.compress=!1),this._sender.send(e||f,r,s)}terminate(){if(this.readyState!==L.CLOSED){if(this.readyState===L.CONNECTING){const e="WebSocket was closed before the connection was established";return x(this,this._req,e)}this._socket&&(this.readyState=L.CLOSING,this._socket.destroy())}}}function P(e){return e.path=e.socketPath,o.connect(e)}function k(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=e.host),a.connect(e)}function x(e,t,s){e.readyState=L.CLOSING;const r=new Error(s);Error.captureStackTrace(r,x),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function D(e,t,s){if(t){const s=T(t).length;e._socket?e._sender._bufferedBytes+=s:e._bufferedAmount+=s}if(s){s(new Error(`WebSocket is not open: readyState ${e.readyState} (${w[e.readyState]})`))}}function O(e,t){const s=this[b];s._socket.removeListener("data",B),s._socket.resume(),s._closeFrameReceived=!0,s._closeMessage=t,s._closeCode=e,1005===e?s.close():s.close(e,t)}function A(){this[b]._socket.resume()}function C(e){const t=this[b];t._socket.removeListener("data",B),t.readyState=L.CLOSING,t._closeCode=e[v],t.emit("error",e),t._socket.destroy()}function N(){this[b].emitClose()}function $(e){this[b].emit("message",e)}function M(e){const t=this[b];t.pong(e,!t._isServer,S),t.emit("ping",e)}function F(e){this[b].emit("pong",e)}function U(){const e=this[b];this.removeListener("close",U),this.removeListener("end",q),e.readyState=L.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",B),this[b]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",N),e._receiver.on("finish",N))}function B(e){this[b]._receiver.write(e)||this.pause()}function q(){const e=this[b];e.readyState=L.CLOSING,e._receiver.end(),this.end()}function W(){const e=this[b];this.removeListener("error",W),this.on("error",S),e&&(e.readyState=L.CLOSING,this.destroy())}w.forEach((e,t)=>{L[e]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(L.prototype,"on"+e,{get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const s=this.listeners(e);for(let t=0;t<s.length;t++)s[t]._listener&&this.removeListener(e,s[t]);this.addEventListener(e,t)}})}),L.prototype.addEventListener=y,L.prototype.removeEventListener=E,e.exports=L},function(e,t,s){"use strict";const{Writable:r}=s(58),i=s(62),{BINARY_TYPES:n,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:c}=s(43),{concat:l,toArrayBuffer:u,unmask:h}=s(63),{isValidStatusCode:d,isValidUTF8:p}=s(135);function g(e,t,s,r){const i=new e(s?"Invalid WebSocket frame: "+t:t);return Error.captureStackTrace(i,g),i[a]=r,i}e.exports=class extends r{constructor(e,t,s,r){super(),this._binaryType=e||n[0],this[c]=void 0,this._extensions=t||{},this._isServer=!!s,this._maxPayload=0|r,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,s){if(8===this._opcode&&0==this._state)return s();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(s)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const s=this._buffers[0],r=t.length-e;e>=s.length?t.set(this._buffers.shift(),r):(t.set(new Uint8Array(s.buffer,s.byteOffset,e),r),this._buffers[0]=s.slice(e)),e-=s.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,g(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,g(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,g(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,g(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,g(RangeError,"invalid opcode "+this._opcode,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,g(RangeError,"invalid opcode "+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,g(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,g(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,g(RangeError,"invalid payload length "+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,g(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,g(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,g(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,g(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&h(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,s)=>{if(e)return t(e);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(g(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(s)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let s;s="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?u(l(t,e)):t,this.emit("message",s)}else{const s=l(t,e);if(!p(s))return this._loop=!1,g(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",s.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return g(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!d(t))return g(RangeError,"invalid status code "+t,!0,1002);const s=e.slice(2);if(!p(s))return g(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,s.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},function(e,t,s){"use strict";try{const e=s(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,s){"use strict";const{randomFillSync:r}=s(51),i=s(62),{EMPTY_BUFFER:n}=s(43),{isValidStatusCode:o}=s(135),{mask:a,toBuffer:c}=s(63),l=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const s=t.mask&&t.readOnly;let i=t.mask?6:2,n=e.length;e.length>=65536?(i+=8,n=127):e.length>125&&(i+=2,n=126);const o=Buffer.allocUnsafe(s?e.length+i:i);return o[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(o[0]|=64),o[1]=n,126===n?o.writeUInt16BE(e.length,2):127===n&&(o.writeUInt32BE(0,2),o.writeUInt32BE(e.length,6)),t.mask?(r(l,0,4),o[1]|=128,o[i-4]=l[0],o[i-3]=l[1],o[i-2]=l[2],o[i-1]=l[3],s?(a(e,l,o,i,e.length),[o]):(a(e,l,e,0,e.length),[o,e])):[o,e]}close(e,t,s,r){let i;if(void 0===e)i=n;else{if("number"!=typeof e||!o(e))throw new TypeError("First argument must be a valid error code number");if(void 0===t||""===t)i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0);else{const s=Buffer.byteLength(t);if(s>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+s),i.writeUInt16BE(e,0),i.write(t,2)}}this._deflating?this.enqueue([this.doClose,i,s,r]):this.doClose(i,s,r)}doClose(e,t,s){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),s)}ping(e,t,s){const r=c(e);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,r,t,c.readOnly,s]):this.doPing(r,t,c.readOnly,s)}doPing(e,t,s,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:s}),r)}pong(e,t,s){const r=c(e);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,r,t,c.readOnly,s]):this.doPong(r,t,c.readOnly,s)}doPong(e,t,s,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:s}),r)}send(e,t,s){const r=c(e),n=this._extensions[i.extensionName];let o=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&n&&(a=r.length>=n._threshold),this._compress=a):(a=!1,o=0),t.fin&&(this._firstFragment=!0),n){const e={fin:t.fin,rsv1:a,opcode:o,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,r,this._compress,e,s]):this.dispatch(r,this._compress,e,s)}else this.sendFrame(u.frame(r,{fin:t.fin,rsv1:!1,opcode:o,mask:t.mask,readOnly:c.readOnly}),s)}dispatch(e,t,s,r){if(!t)return void this.sendFrame(u.frame(e,s),r);const n=this._extensions[i.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,n.compress(e,s.fin,(t,i)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof r&&r(e);for(let t=0;t<this._queue.length;t++){const s=this._queue[t][4];"function"==typeof s&&s(e)}}else this._bufferedBytes-=e.length,this._deflating=!1,s.readOnly=!1,this.sendFrame(u.frame(i,s),r),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},function(e,t,s){"use strict";const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,s){void 0===e[t]?e[t]=[s]:e[t].push(s)}e.exports={format:function(e){return Object.keys(e).map(t=>{let s=e[t];return Array.isArray(s)||(s=[s]),s.map(e=>[t].concat(Object.keys(e).map(t=>{let s=e[t];return Array.isArray(s)||(s=[s]),s.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t=Object.create(null);if(void 0===e||""===e)return t;let s,n,o=Object.create(null),a=!1,c=!1,l=!1,u=-1,h=-1,d=0;for(;d<e.length;d++){const p=e.charCodeAt(d);if(void 0===s)if(-1===h&&1===r[p])-1===u&&(u=d);else if(32===p||9===p)-1===h&&-1!==u&&(h=d);else{if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+d);{if(-1===u)throw new SyntaxError("Unexpected character at index "+d);-1===h&&(h=d);const r=e.slice(u,h);44===p?(i(t,r,o),o=Object.create(null)):s=r,u=h=-1}}else if(void 0===n)if(-1===h&&1===r[p])-1===u&&(u=d);else if(32===p||9===p)-1===h&&-1!==u&&(h=d);else if(59===p||44===p){if(-1===u)throw new SyntaxError("Unexpected character at index "+d);-1===h&&(h=d),i(o,e.slice(u,h),!0),44===p&&(i(t,s,o),o=Object.create(null),s=void 0),u=h=-1}else{if(61!==p||-1===u||-1!==h)throw new SyntaxError("Unexpected character at index "+d);n=e.slice(u,d),u=h=-1}else if(c){if(1!==r[p])throw new SyntaxError("Unexpected character at index "+d);-1===u?u=d:a||(a=!0),c=!1}else if(l)if(1===r[p])-1===u&&(u=d);else if(34===p&&-1!==u)l=!1,h=d;else{if(92!==p)throw new SyntaxError("Unexpected character at index "+d);c=!0}else if(34===p&&61===e.charCodeAt(d-1))l=!0;else if(-1===h&&1===r[p])-1===u&&(u=d);else if(-1===u||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+d);{if(-1===u)throw new SyntaxError("Unexpected character at index "+d);-1===h&&(h=d);let r=e.slice(u,h);a&&(r=r.replace(/\\/g,""),a=!1),i(o,n,r),44===p&&(i(t,s,o),o=Object.create(null),s=void 0),n=void 0,u=h=-1}}else-1===h&&(h=d)}if(-1===u||l)throw new SyntaxError("Unexpected end of input");-1===h&&(h=d);const p=e.slice(u,h);return void 0===s?i(t,p,o):(void 0===n?i(o,p,!0):i(o,n,a?p.replace(/\\/g,""):p),i(t,s,o)),t}}},function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FlutterDebugSession=void 0;const i=s(42),n=s(55),o=s(4),a=s(8),c=s(290),l=s(132),u=s(105),h=s(291),d=s(64),p=s(65);class g extends u.DartDebugSession{constructor(){super(),this.flutterTrackWidgetCreation=!1,this.appHasStarted=!1,this.appHasBeenToldToStopOrDetach=!1,this.isReloadInProgress=!1,this.flutterCapabilities=n.FlutterCapabilities.empty,this.outputCategory="stdout",this.sendStdOutToConsole=!1,this.allowWriteServiceInfo=!1,this.parseVmServiceUriFromStdOut=!1,this.requiresProgram=!1,this.logCategory=a.LogCategory.FlutterRun,this.connectVmEvenForNoDebug=!0}initializeRequest(e,t){e.body=e.body||{},e.body.supportsRestartRequest=!0,super.initializeRequest(e,t)}launchRequest(e,t){const s=Object.create(null,{launchRequest:{get:()=>super.launchRequest}});return r(this,void 0,void 0,(function*(){return this.flutterCapabilities.version=t.flutterVersion,this.flutterTrackWidgetCreation=t&&t.flutterTrackWidgetCreation,this.outputCategory="stdout",s.launchRequest.call(this,e,t)}))}attachRequest(e,t){return r(this,void 0,void 0,(function*(){return this.launchRequest(e,t)}))}spawnProcess(e){const t="attach"===e.request;e.showMemoryUsage&&(this.pollforMemoryMs=1e3),this.allowTerminatingVmServicePid="flutter-tester"===e.deviceId&&!t;const s=new d.DebugAdapterLogger(this,this.logCategory);return this.expectAdditionalPidToTerminate=!0,this.runDaemon=this.spawnRunDaemon(t,e,s),this.runDaemon.registerForUnhandledMessages(e=>this.handleLogOutput(e)),this.runDaemon.registerForDaemonConnect(e=>this.recordAdditionalPid(e.pid)),this.runDaemon.registerForAppStart(e=>this.currentRunningAppId=e.appId),this.runDaemon.registerForAppDebugPort(e=>r(this,void 0,void 0,(function*(){this.vmServiceUri=e.wsUri,yield this.connectToVmServiceIfReady()}))),this.runDaemon.registerForAppStarted(e=>r(this,void 0,void 0,(function*(){this.appHasStarted=!0,yield this.connectToVmServiceIfReady()}))),this.runDaemon.registerForAppStop(e=>{this.currentRunningAppId=void 0,this.runDaemon&&(this.runDaemon.dispose(),this.runDaemon=void 0)}),this.runDaemon.registerForAppProgress(e=>{this.appHasStarted?this.sendProgressEvent(e):this.sendLaunchProgressEvent(e)}),this.runDaemon.registerForAppWebLaunchUrl(e=>this.sendEvent(new i.Event("dart.webLaunchUrl",{url:e.url,launched:e.launched}))),this.runDaemon.registerForError(e=>this.sendEvent(new i.OutputEvent(e+"\n","stderr"))),this.runDaemon.registerForDaemonLog(e=>this.handleLogOutput(e.log,e.error)),this.runDaemon.registerForAppLog(e=>this.handleLogOutput(e.log,e.error)),this.runDaemon.process}sendLaunchProgressEvent(e){!e.finished&&e.message&&this.updateProgress(o.debugLaunchProgressId,e.message)}sendProgressEvent(e){const t=`flutter-${e.appId}-${e.progressId}`;if(e.finished){let s;s||("hot.reload"===e.progressId?s="Hot Reload complete!":"hot.restart"===e.progressId&&(s="Hot Restart complete!")),this.endProgress(t,s)}else this.startProgress(t,e.message)}handleLogOutput(e,t=!1){-1!==(e=e.trimRight()+"\n").indexOf("══╡ EXCEPTION CAUGHT BY")?(this.outputCategory="stderr",this.logToUser(e,this.outputCategory)):-1!==e.indexOf("══════════════════════════════════════════")?(this.logToUser(e,this.outputCategory),this.outputCategory="stdout"):(-1!==e.indexOf("Waiting for connection from")&&this.updateProgress(o.debugLaunchProgressId,e.trim()),this.logToUser(e,t?"stderr":this.outputCategory))}spawnRunDaemon(e,t,s){let r=[];if(e&&!t.program||(r.push("--target"),r.push(this.sourceFileForArgs(t))),t.deviceId&&(r.push("-d"),r.push(t.deviceId)),e){const e=t,s=e.vmServiceUri||e.observatoryUri;s&&(r.push("--debug-uri"),r.push(s))}return e||("profile"===t.flutterMode?r.push("--profile"):"release"===t.flutterMode?r.push("--release"):(this.flutterTrackWidgetCreation?r.push("--track-widget-creation"):r.push("--no-track-widget-creation"),this.useFlutterStructuredErrors&&this.flutterCapabilities.supportsDartDefine&&r.push("--dart-define=flutter.inspector.structuredErrors=true")),t.flutterPlatform&&"default"!==t.flutterPlatform&&r.push("--target-platform="+t.flutterPlatform),this.shouldConnectDebugger&&(r.push("--start-paused"),t.vmServicePort&&-1===r.indexOf("--observatory-port")&&(r.push("--observatory-port"),r.push(t.vmServicePort.toString())),this.flutterCapabilities.supportsWsVmService&&r.push("--web-server-debug-protocol","ws"),t.debugExtensionBackendProtocol&&this.flutterCapabilities.supportsWsDebugBackend&&r.push("--web-server-debug-backend-protocol",t.debugExtensionBackendProtocol),this.flutterCapabilities.supportsExposeUrl&&r.push("--web-allow-expose-url"))),t.args&&(r=r.concat(t.args)),!0===t.forceFlutterVerboseMode&&-1===r.indexOf("-v")&&-1===r.indexOf("--verbose")&&r.push("-v"),new h.FlutterRun(e?p.RunMode.Attach:p.RunMode.Run,t.flutterPath,t.workspaceConfig,t.globalFlutterArgs||[],t.cwd,r,{envOverrides:t.env,toolEnv:this.toolEnv},t.flutterRunLogFile,s,e=>this.exposeUrl(e),this.maxLogLineLength)}connectToVmServiceIfReady(){return r(this,void 0,void 0,(function*(){this.vmServiceUri&&this.appHasStarted&&!this.vmService&&(yield this.initDebugger(this.vmServiceUri))}))}terminate(e){const t=Object.create(null,{terminate:{get:()=>super.terminate}});return r(this,void 0,void 0,(function*(){if(!this.appHasBeenToldToStopOrDetach){this.appHasBeenToldToStopOrDetach=!0;try{this.currentRunningAppId&&this.appHasStarted&&!this.processExited&&this.runDaemon&&(this.runDaemon.mode===p.RunMode.Run?this.runDaemon.stop(this.currentRunningAppId):this.runDaemon.detach(this.currentRunningAppId),yield Promise.race([this.processExit,new Promise(e=>setTimeout(e,3e3))]))}catch(e){}}yield t.terminate.call(this,e)}))}restartRequest(e,t){const s=Object.create(null,{restartRequest:{get:()=>super.restartRequest}});return r(this,void 0,void 0,(function*(){this.sendEvent(new i.Event("dart.hotRestartRequest")),this.sendEvent(new i.ContinuedEvent(0,!0)),yield this.performReload(!0,{reason:o.restartReasonManual}),s.restartRequest.call(this,e,t)}))}performReload(e,t){return r(this,void 0,void 0,(function*(){if(!this.appHasStarted||!this.currentRunningAppId||!this.runDaemon)return;if(!this.flutterCapabilities.supportsRestartDebounce&&this.isReloadInProgress)return void this.sendEvent(new i.OutputEvent("Reload already in progress, ignoring request","stderr"));this.isReloadInProgress=!0;const s=e?"hot-restart":"hot-reload";try{yield this.runDaemon.restart(this.currentRunningAppId,!this.noDebug,e,t)}catch(e){this.sendEvent(new i.OutputEvent(`Error running ${s}: ${e}\n`,"stderr"))}finally{this.isReloadInProgress=!1}}))}customRequest(e,t,s){const n=Object.create(null,{customRequest:{get:()=>super.customRequest}});return r(this,void 0,void 0,(function*(){try{switch(e){case"serviceExtension":this.currentRunningAppId&&this.runDaemon&&(yield this.runDaemon.callServiceExtension(this.currentRunningAppId,s.type,s.params)),this.sendResponse(t);break;case"checkPlatformOverride":if(this.currentRunningAppId&&this.runDaemon){const e=yield this.runDaemon.callServiceExtension(this.currentRunningAppId,"ext.flutter.platformOverride",void 0);this.sendEvent(new i.Event("dart.flutter.updatePlatformOverride",{platform:e.value}))}this.sendResponse(t);break;case"checkBrightnessOverride":if(this.currentRunningAppId&&this.runDaemon){const e=yield this.runDaemon.callServiceExtension(this.currentRunningAppId,"ext.flutter.brightnessOverride",void 0);this.sendEvent(new i.Event("dart.flutter.updateBrightnessOverride",{brightness:e.value}))}this.sendResponse(t);break;case"checkIsWidgetCreationTracked":if(this.currentRunningAppId&&this.runDaemon){const e=yield this.runDaemon.callServiceExtension(this.currentRunningAppId,"ext.flutter.inspector.isWidgetCreationTracked",void 0);this.sendEvent(new i.Event("dart.flutter.updateIsWidgetCreationTracked",{isWidgetCreationTracked:e.result}))}this.sendResponse(t);break;case"hotReload":this.currentRunningAppId&&(yield this.performReload(!1,s)),this.sendResponse(t);break;case"hotRestart":this.currentRunningAppId&&(yield this.performReload(!0,s)),this.sendResponse(t);break;default:yield n.customRequest.call(this,e,t,s)}}catch(s){const r=s&&s.message?s.message:s,n=`Error handling '${e}' custom request: ${r}`;this.isTerminating||this.sendEvent(new i.OutputEvent(n+"\n","stderr")),this.logger.error(n),this.errorResponse(t,n)}}))}handleInspectEvent(e){const t=Object.create(null,{handleInspectEvent:{get:()=>super.handleInspectEvent}});return r(this,void 0,void 0,(function*(){if(!this.runDaemon||!this.currentRunningAppId)return;const s=yield this.runDaemon.callServiceExtension(this.currentRunningAppId,"ext.flutter.inspector.getSelectedSummaryWidget",{previousSelectionId:null,objectGroup:"my-group"});try{if(s&&s.result&&s.result.creationLocation){const e=s.result.creationLocation,t=e.file,r=e.line,n=e.column;this.sendEvent(new i.Event("dart.navigate",{file:t,line:r,column:n,inOtherEditorColumn:!0}))}else yield t.handleInspectEvent.call(this,e)}finally{yield this.runDaemon.callServiceExtension(this.currentRunningAppId,"ext.flutter.inspector.disposeGroup",{objectGroup:"my-group"})}}))}handleFlutterErrorEvent(e){const t=e.extensionData;this.logFlutterErrorToUser(t)}logFlutterErrorToUser(e){const t="═".repeat(8),s="═".repeat(Math.max(80-e.description.length-2-t.length,0)),r=`${t} ${e.description} ${s}`;this.logToUser(`\n${r}\n`,"stderr",l.grey2),e.errorsSinceReload?this.logFlutterErrorSummary(e):this.logDiagnosticNodeDescendents(e),this.logToUser("═".repeat(r.length)+"\n","stderr",l.grey2)}logDiagnosticNodeToUser(e,{parent:t,level:s=0,blankLineAfterSummary:r=!0}){if(e.description&&e.description.startsWith("◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤◢◤"))return;if(e.type===c.DiagnosticsNodeType.ErrorSpacer)return;let i=" ".repeat(4*s);e.name&&!1!==e.showName&&(i+=e.name,!1!==e.showSeparator&&e.description&&(i+=": ")),e.description&&(i+=e.description),i=i.trimRight();const n=e.level===c.DiagnosticsNodeLevel.Error||e.level===c.DiagnosticsNodeLevel.Summary||e.description&&e.description.startsWith("Exception: "),o=e.level===c.DiagnosticsNodeLevel.Hint,a=n?e=>e:o?l.grey2:l.grey;this.logToUser(i+"\n","stderr",a),r&&e.level===c.DiagnosticsNodeLevel.Summary&&this.logToUser("\n");const u=e.style===c.DiagnosticsNodeStyle.Flat?s:s+1;this.logDiagnosticNodeDescendents(e,u)}logFlutterErrorSummary(e){for(const t of e.properties){const s=t.children&&t.children.length&&!t.children.find(e=>e.children&&e.children.length);(t.level===c.DiagnosticsNodeLevel.Summary||s)&&this.logDiagnosticNodeToUser(t,{parent:e,blankLineAfterSummary:!1})}}logDiagnosticNodeDescendents(e,t=0){if(e.style!==c.DiagnosticsNodeStyle.Shallow){if(e.properties){let s;for(const r of e.properties)s===r.level||s!==c.DiagnosticsNodeLevel.Hint&&r.level!==c.DiagnosticsNodeLevel.Hint||this.logToUser("\n"),this.logDiagnosticNodeToUser(r,{parent:e,level:t}),s=r.level}e.children&&e.children.forEach(s=>this.logDiagnosticNodeToUser(s,{parent:e,level:t}))}}handleExtensionEvent(e){const t=Object.create(null,{handleExtensionEvent:{get:()=>super.handleExtensionEvent}});return r(this,void 0,void 0,(function*(){yield this.debuggerInit,"Extension"===e.kind&&"Flutter.FirstFrame"===e.extensionKind?this.sendEvent(new i.Event("dart.flutter.firstFrame",{})):"Extension"===e.kind&&"Flutter.Error"===e.extensionKind?this.handleFlutterErrorEvent(e):"Extension"===e.kind&&"Flutter.ServiceExtensionStateChanged"===e.extensionKind?this.sendEvent(new i.Event("dart.flutter.serviceExtensionStateChanged",e.extensionData)):t.handleExtensionEvent.call(this,e)}))}handleServiceExtensionAdded(e){super.handleServiceExtensionAdded(e),this.runDaemon&&this.currentRunningAppId&&e.extensionRPC===a.VmServiceExtension.InspectorStructuredErrors&&this.useFlutterStructuredErrors&&this.runDaemon.callServiceExtension(this.currentRunningAppId,e.extensionRPC,{enabled:!0}).catch(e=>this.logger.error(e))}}t.FlutterDebugSession=g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(42),i=s(105),n=s(106),o=s(138),a=s(292),c=s(293),l=s(295),u=process.argv.slice(2),h=u.length?u[0]:void 0,d={dart:i.DartDebugSession,dart_test:n.DartTestDebugSession,flutter:o.FlutterDebugSession,flutter_test:a.FlutterTestDebugSession,web:c.WebDebugSession,web_test:l.WebTestDebugSession},p=h?d[h]:void 0;if(!p)throw new Error(`Debugger type must be one of ${Object.keys(d).join(", ")} but got ${h}`);r.DebugSession.run(p)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolServer=void 0;const r=s(38),i=s(104);class n{get event(){return this._event||(this._event=(e,t)=>{let s;return this._listener=e,this._this=t,s={dispose:()=>{this._listener=void 0,this._this=void 0}},s}),this._event}fire(e){if(this._listener)try{this._listener.call(this._this,e)}catch(e){}}hasListener(){return!!this._listener}dispose(){this._listener=void 0,this._this=void 0}}class o extends r.EventEmitter{constructor(){super(),this._sendMessage=new n,this._pendingRequests=new Map,this.onDidSendMessage=this._sendMessage.event}dispose(){}handleMessage(e){if("request"===e.type)this.dispatchRequest(e);else if("response"===e.type){const t=e,s=this._pendingRequests.get(t.request_seq);s&&(this._pendingRequests.delete(t.request_seq),s(t))}}_isRunningInline(){return this._sendMessage&&this._sendMessage.hasListener()}start(e,t){this._sequence=1,this._writableStream=t,this._rawData=new Buffer(0),e.on("data",e=>this._handleData(e)),e.on("close",()=>{this._emitEvent(new i.Event("close"))}),e.on("error",e=>{this._emitEvent(new i.Event("error","inStream error: "+(e&&e.message)))}),t.on("error",e=>{this._emitEvent(new i.Event("error","outStream error: "+(e&&e.message)))}),e.resume()}stop(){this._writableStream&&this._writableStream.end()}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error("attempt to send more than one response for command "+e.command):this._send("response",e)}sendRequest(e,t,s,r){const n={command:e};if(t&&Object.keys(t).length>0&&(n.arguments=t),this._send("request",n),r){this._pendingRequests.set(n.seq,r);const e=setTimeout(()=>{clearTimeout(e);const t=this._pendingRequests.get(n.seq);t&&(this._pendingRequests.delete(n.seq),t(new i.Response(n,"timeout")))},s)}}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){if(t.type=e,t.seq=this._sequence++,this._writableStream){const e=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(e,"utf8")}\r\n\r\n${e}`,"utf8")}this._sendMessage.fire(t)}_handleData(e){for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{let t=JSON.parse(e);this.handleMessage(t)}catch(e){this._emitEvent(new i.Event("error","Error handling data: "+(e&&e.message)))}continue}}else{const e=this._rawData.indexOf(o.TWO_CRLF);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const s=t[e].split(/: +/);"Content-Length"==s[0]&&(this._contentLength=+s[1])}this._rawData=this._rawData.slice(e+o.TWO_CRLF.length);continue}}break}}}t.ProtocolServer=o,o.TWO_CRLF="\r\n\r\n"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingDebugSession=void 0;const r=s(130),i=r.logger,n=s(103);class o extends n.DebugSession{constructor(e,t,s){super(t,s),this.obsolete_logFilePath=e,this.on("error",e=>{i.error(e.body)})}start(e,t){super.start(e,t),i.init(e=>this.sendEvent(e),this.obsolete_logFilePath,this._isServer)}sendEvent(e){if(!(e instanceof r.LogOutputEvent)){let t=e;e instanceof n.OutputEvent&&e.body&&e.body.data&&e.body.data.doNotLogOutput&&(delete e.body.data.doNotLogOutput,t=Object.assign({},e),t.body=Object.assign(Object.assign({},e.body),{output:"<output not logged>"})),i.verbose("To client: "+JSON.stringify(t))}super.sendEvent(e)}sendRequest(e,t,s,r){i.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${s}`),super.sendRequest(e,t,s,r)}sendResponse(e){i.verbose("To client: "+JSON.stringify(e)),super.sendResponse(e)}dispatchRequest(e){i.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`),super.dispatchRequest(e)}}t.LoggingDebugSession=o},function(e,t,s){const r=s(271),i=s(273),{mkdirpNative:n,mkdirpNativeSync:o}=s(274),{mkdirpManual:a,mkdirpManualSync:c}=s(131),{useNative:l,useNativeSync:u}=s(276),h=(e,t)=>(e=i(e),t=r(t),l(t)?n(e,t):a(e,t));h.sync=(e,t)=>(e=i(e),t=r(t),u(t)?o(e,t):c(e,t)),h.native=(e,t)=>n(i(e),r(t)),h.manual=(e,t)=>a(i(e),r(t)),h.nativeSync=(e,t)=>o(i(e),r(t)),h.manualSync=(e,t)=>c(i(e),r(t)),e.exports=h},function(e,t,s){const{promisify:r}=s(272),i=s(5);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:i,...e};else if("number"==typeof e)e={mode:e,fs:i};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:i}}else e={mode:511,fs:i};return e.mkdir=e.mkdir||e.fs.mkdir||i.mkdir,e.mkdirAsync=r(e.mkdir),e.stat=e.stat||e.fs.stat||i.stat,e.statAsync=r(e.stat),e.statSync=e.statSync||e.fs.statSync||i.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||i.mkdirSync,e}},function(e,t){e.exports=require("util")},function(e,t,s){const r=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:i,parse:n}=s(2);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=i(e),"win32"===r){const t=/[*|"<>?:]/,{root:s}=n(e);if(t.test(e.substr(s.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},function(e,t,s){const{dirname:r}=s(2),{findMade:i,findMadeSync:n}=s(275),{mkdirpManual:o,mkdirpManualSync:a}=s(131);e.exports={mkdirpNative:(e,t)=>{t.recursive=!0;return r(e)===e?t.mkdirAsync(e,t):i(t,e).then(s=>t.mkdirAsync(e,t).then(()=>s).catch(s=>{if("ENOENT"===s.code)return o(e,t);throw s}))},mkdirpNativeSync:(e,t)=>{t.recursive=!0;if(r(e)===e)return t.mkdirSync(e,t);const s=n(t,e);try{return t.mkdirSync(e,t),s}catch(s){if("ENOENT"===s.code)return a(e,t);throw s}}}},function(e,t,s){const{dirname:r}=s(2),i=(e,t,s)=>s===t?Promise.resolve():e.statAsync(t).then(e=>e.isDirectory()?s:void 0,s=>"ENOENT"===s.code?i(e,r(t),t):void 0),n=(e,t,s)=>{if(s!==t)try{return e.statSync(t).isDirectory()?s:void 0}catch(s){return"ENOENT"===s.code?n(e,r(t),t):void 0}};e.exports={findMade:i,findMadeSync:n}},function(e,t,s){const r=s(5),i=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),n=+i[0]>10||10==+i[0]&&+i[1]>=12,o=n?e=>e.mkdir===r.mkdir:()=>!1,a=n?e=>e.mkdirSync===r.mkdirSync:()=>!1;e.exports={useNative:o,useNativeSync:a}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=void 0;t.Handles=class{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle="number"==typeof e?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){var t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VmServiceCapabilities=void 0;const r=s(3);class i{constructor(e){this.version=e}static get empty(){return new i("0.0.0")}get hasInvoke(){return r.versionIsAtLeast(this.version,"3.10.0")}get hasLoggingStream(){return r.versionIsAtLeast(this.version,"3.17.0")}get serviceStreamIsPublic(){return r.versionIsAtLeast(this.version,"3.22.0")}}t.VmServiceCapabilities=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VmServiceConnection=t.RPCError=t.SourceReportKind=t.DebuggerResult=void 0;const r=s(280),i=s(3);class n{constructor(e){this.result=e}}var o;t.DebuggerResult=n,function(e){e[e.Coverage=0]="Coverage",e[e.PossibleBreakpoints=1]="PossibleBreakpoints"}(o=t.SourceReportKind||(t.SourceReportKind={}));class a{constructor(e,t,s){this.code=e,this.message=t,this.data=s}details(){return this.data?this.data.details:void 0}toString(){return`${this.code} ${this.message}`}}t.RPCError=a;t.VmServiceConnection=class{constructor(e){this.completers={},this.eventListeners={},this.nextId=0,this.socket=new r(e,{followRedirects:!0}),this.socket.on("message",e=>this.handleData(e.toString()))}onOpen(e){this.socket.on("open",e)}onLogging(e){this.logging=e}getVersion(){return this.callMethod("getVersion")}getVM(){return this.callMethod("getVM")}getIsolate(e){return this.callMethod("getIsolate",{isolateId:e})}on(e,t){return this.eventListeners[e]=t,this.streamListen(e)}streamListen(e){return this.callMethod("streamListen",{streamId:e})}addBreakpointWithScriptUri(e,t,s,r){let i;return i={isolateId:e,scriptUri:t,line:s},r&&(i.column=r),this.callMethod("addBreakpointWithScriptUri",i)}setExceptionPauseMode(e,t){return this.callMethod("setExceptionPauseMode",{isolateId:e,mode:t})}removeBreakpoint(e,t){return this.callMethod("removeBreakpoint",{isolateId:e,breakpointId:t})}pause(e){return this.callMethod("pause",{isolateId:e})}resume(e,t,s){return this.callMethod("resume",{isolateId:e,step:t,frameIndex:s})}getStack(e){return this.callMethod("getStack",{isolateId:e})}getSourceReport(e,t,s){return this.callMethod("getSourceReport",{isolateId:e.id,reports:t.map(e=>o[e]),scriptId:s.id})}getObject(e,t,s,r){let i;return i={isolateId:e,objectId:t},s&&(i.offset=s),r&&(i.count=r),this.callMethod("getObject",i)}evaluate(e,t,s,r){return this.callMethod("evaluate",{disableBreakpoints:r,expression:s,isolateId:e,targetId:t})}evaluateInFrame(e,t,s,r){return this.callMethod("evaluateInFrame",{disableBreakpoints:r,expression:s,frameIndex:t,isolateId:e})}invoke(e,t,s,r,i){return this.callMethod("invoke",{argumentIds:r,disableBreakpoints:i,isolateId:e,selector:s,targetId:t})}setLibraryDebuggable(e,t,s){return this.callMethod("setLibraryDebuggable",{isolateId:e,libraryId:t,isDebuggable:s})}callMethod(e,t){const s=""+this.nextId++,r=new i.PromiseCompleter;this.completers[s]=r;const n={id:s,jsonrpc:"2.0",method:e,params:t||{}},o=JSON.stringify(n);return this.logTraffic(`==> ${o}\n`),this.socket.send(o),r.promise}handleData(e){let t;this.logTraffic(`<== ${e}\n`),t=JSON.parse(e);const s=t.id,r=t.method,i=t.error,o=this.completers[s];if(o)delete this.completers[s],i?o.reject(new a(i.code,i.message,i.data)):o.resolve(new n(t.result));else if(r){const e=t.params,s=e.streamId,r=this.eventListeners[s];r&&setTimeout(r,0,e.event)}}onError(e){this.socket.on("error",e)}onClose(e){this.socket.on("close",e)}logTraffic(e){this.logging&&this.logging(e)}close(){this.socket.close()}}},function(e,t,s){"use strict";const r=s(133);r.createWebSocketStream=s(285),r.Server=s(286),r.Receiver=s(134),r.Sender=s(136),e.exports=r},function(e,t){e.exports=require("tls")},function(e,t){e.exports=require("zlib")},function(e,t,s){"use strict";const r=Symbol("kDone"),i=Symbol("kRun");e.exports=class{constructor(e){this[r]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[r])}}}},function(e,t,s){"use strict";class r{constructor(e,t){this.target=t,this.type=e}}class i extends r{constructor(e,t){super("message",t),this.data=e}}class n extends r{constructor(e,t,s){super("close",s),this.wasClean=s._closeFrameReceived&&s._closeFrameSent,this.reason=t,this.code=e}}class o extends r{constructor(e){super("open",e)}}class a extends r{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t,s){if("function"!=typeof t)return;function r(e){t.call(this,new i(e,this))}function c(e,s){t.call(this,new n(e,s,this))}function l(e){t.call(this,new a(e,this))}function u(){t.call(this,new o(this))}const h=s&&s.once?"once":"on";"message"===e?(r._listener=t,this[h](e,r)):"close"===e?(c._listener=t,this[h](e,c)):"error"===e?(l._listener=t,this[h](e,l)):"open"===e?(u._listener=t,this[h](e,u)):this[h](e,t)},removeEventListener(e,t){const s=this.listeners(e);for(let r=0;r<s.length;r++)s[r]!==t&&s[r]._listener!==t||this.removeListener(e,s[r])}};e.exports=c},function(e,t,s){"use strict";const{Duplex:r}=s(58);function i(e){e.emit("close")}function n(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let s=!0;function a(){s&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new r({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){c.push(t)||(s=!1,e._socket.pause())})),e.once("error",(function(e){c.destroyed||c.destroy(e)})),e.once("close",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,s){if(e.readyState===e.CLOSED)return s(t),void process.nextTick(i,c);let r=!1;e.once("error",(function(e){r=!0,s(e)})),e.once("close",(function(){r||s(t),process.nextTick(i,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),c._readableState.endEmitted&&c.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||s||(s=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,s,r){e.readyState!==e.CONNECTING?e.send(t,r):e.once("open",(function(){c._write(t,s,r)}))},c.on("end",n),c.on("error",o),c}},function(e,t,s){"use strict";const r=s(38),{createHash:i}=s(51),{createServer:n,STATUS_CODES:o}=s(56),a=s(62),c=s(133),{format:l,parse:u}=s(137),{GUID:h,kWebSocket:d}=s(43),p=/^[+/0-9A-Za-z]{22}==$/;function g(e){e.emit("close")}function f(){this.destroy()}function m(e,t,s,r){e.writable&&(s=s||o[t],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(s),...r},e.write(`HTTP/1.1 ${t} ${o[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+s)),e.removeListener("error",f),e.destroy()}e.exports=class extends r{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=e.port?(this._server=n((e,t)=>{const s=o[426];t.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),t.end(s)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._removeListeners=function(e,t){for(const s of Object.keys(t))e.on(s,t[s]);return function(){for(const s of Object.keys(t))e.removeListener(s,t[s])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,s)=>{this.handleUpgrade(e,t,s,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(()=>this.emit("close")):process.nextTick(g,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,s,r){t.on("error",f);const i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),n=+e.headers["sec-websocket-version"],o={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!i||!p.test(i)||8!==n&&13!==n||!this.shouldHandle(e))return m(t,400);if(this.options.perMessageDeflate){const s=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=u(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(s.accept(t[a.extensionName]),o[a.extensionName]=s)}catch(e){return m(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[""+(8===n?"sec-websocket-origin":"origin")],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(n,a,c,l)=>{if(!n)return m(t,a||401,c,l);this.completeUpgrade(i,o,e,t,s,r)});if(!this.options.verifyClient(a))return m(t,401)}this.completeUpgrade(i,o,e,t,s,r)}completeUpgrade(e,t,s,r,n,o){if(!r.readable||!r.writable)return r.destroy();if(r[d])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");const u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+i("sha1").update(e+h).digest("base64")],p=new c(null);let g=s.headers["sec-websocket-protocol"];if(g&&(g=g.trim().split(/ *, */),g=this.options.handleProtocols?this.options.handleProtocols(g,s):g[0],g&&(u.push("Sec-WebSocket-Protocol: "+g),p.protocol=g)),t[a.extensionName]){const e=t[a.extensionName].params,s=l({[a.extensionName]:[e]});u.push("Sec-WebSocket-Extensions: "+s),p._extensions=t}this.emit("headers",u,s),r.write(u.concat("\r\n").join("\r\n")),r.removeListener("error",f),p.setSocket(r,n,this.options.maxPayload),this.clients&&(this.clients.add(p),p.on("close",()=>this.clients.delete(p))),o(p)}}},function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreadInfo=t.ThreadManager=void 0;const i=s(42),n=s(8),o=s(3);t.ThreadManager=class{constructor(e,t){this.logger=e,this.debugSession=t,this.nextThreadId=0,this.threads=[],this.bps={},this.hasConfigurationDone=!1,this.exceptionMode="Unhandled",this.nextDataId=1,this.storedData={}}registerThread(e,t){return r(this,void 0,void 0,(function*(){let s=this.getThreadInfoFromRef(e);s||(s=new c(this,e,this.nextThreadId),this.nextThreadId++,this.threads.push(s),this.debugSession.sendEvent(new i.ThreadEvent("started",s.num)),this.hasConfigurationDone&&s.receivedConfigurationDone()),"IsolateRunnable"!==t||s.runnable||(s.runnable=!0,this.debugSession.vmService&&(yield Promise.all([this.debugSession.vmService.setExceptionPauseMode(s.ref.id,this.exceptionMode),this.setLibrariesDebuggable(s.ref),this.resetBreakpoints()]),s.setInitialBreakpoints()))}))}setLibrariesDuggableForAllIsolates(){return r(this,void 0,void 0,(function*(){yield Promise.all(this.threads.map(e=>this.setLibrariesDebuggable(e.ref)))}))}receivedConfigurationDone(){this.hasConfigurationDone=!0;for(const e of this.threads)e.receivedConfigurationDone()}getThreadInfoFromRef(e){for(const t of this.threads)if(t.ref.id===e.id)return t}getThreadInfoFromNumber(e){for(const t of this.threads)if(t.num===e)return t}getThreads(){return this.threads.map(e=>new i.Thread(e.num,e.ref.name))}setExceptionPauseMode(e){return r(this,void 0,void 0,(function*(){this.exceptionMode=e,this.debugSession.vmService&&(yield Promise.all(this.threads.map(t=>r(this,void 0,void 0,(function*(){t.runnable&&this.debugSession.vmService&&(yield this.debugSession.vmService.setExceptionPauseMode(t.ref.id,e))})))))}))}setLibrariesDebuggable(e){var t;return r(this,void 0,void 0,(function*(){if(this.debugSession.noDebug||!this.debugSession.vmService)return;const s=(yield this.debugSession.vmService.getIsolate(e.id)).result,r=(null===(t=s.libraries)||void 0===t?void 0:t.filter(e=>this.debugSession.isValidToDebug(e.uri)))||[];if(0===r.length)return;const i=this.debugSession;function n(e){if(!i.vmService)return Promise.resolve(!0);const t=!(i.isSdkLibrary(e.uri)&&!i.debugSdkLibraries||i.isExternalLibrary(e.uri)&&!i.debugExternalLibraries);return i.vmService.setLibraryDebuggable(s.id,e.id,t)}const a=r[0];try{yield n(a)}catch(e){return void this.logger.info(o.errorString(e))}yield Promise.all(r.map(n)).catch(e=>this.logger.info(o.errorString(e)))}))}resetBreakpoints(){return r(this,void 0,void 0,(function*(){const e=[];for(const t of Object.keys(this.bps))e.push(this.setBreakpoints(t,this.bps[t]));yield Promise.all(e)}))}setBreakpoints(e,t){let s;0===t.length?delete this.bps[e]:this.bps[e]=t;for(const r of this.threads)if(r.runnable){const i=r.setBreakpoints(this.logger,e,t);s||(s=i)}if(s)return s;const r=new o.PromiseCompleter;return r.resolve(t.map(e=>!0)),r.promise}storeData(e,t){const s=this.nextDataId;return this.nextDataId++,this.storedData[s]=new a(e,t),s}getStoredData(e){return this.storedData[e]}removeStoredData(e){for(const t of Object.keys(this.storedData).map(e=>parseInt(e,10)))this.storedData[t].thread.num===e.num&&delete this.storedData[t]}removeAllStoredData(){for(const e of Object.keys(this.storedData).map(e=>parseInt(e,10)))delete this.storedData[e]}handleIsolateExit(e){const t=this.getThreadInfoFromRef(e);t&&(this.debugSession.sendEvent(new i.ThreadEvent("exited",t.num)),this.threads.splice(this.threads.indexOf(t),1),this.removeStoredData(t))}};class a{constructor(e,t){this.thread=e,this.data=t}}class c{constructor(e,t,s){this.manager=e,this.ref=t,this.num=s,this.scriptCompleters={},this.runnable=!1,this.vmBps={},this.breakpoints={},this.atAsyncSuspension=!1,this.exceptionReference=0,this.paused=!1,this.gotPauseStart=!1,this.initialBreakpoints=!1,this.hasConfigurationDone=!1,this.hasPendingResume=!1}removeBreakpointsAtUri(e){const t=[],s=this.vmBps[e];if(s){if(this.manager.debugSession.vmService)for(const e of s)t.push(this.manager.debugSession.vmService.removeBreakpoint(this.ref.id,e.id));delete this.vmBps[e]}return Promise.all(t)}removeAllBreakpoints(){const e=[];for(const t of Object.keys(this.vmBps))e.push(this.removeBreakpointsAtUri(t));return Promise.all(e).then(e=>[].concat.apply([],e))}setBreakpoints(e,t,s){return r(this,void 0,void 0,(function*(){return yield this.removeBreakpointsAtUri(t),this.vmBps[t]=[],Promise.all(s.map(s=>r(this,void 0,void 0,(function*(){var r;try{if(!this.manager.debugSession.vmService)return;const e=(yield this.manager.debugSession.vmService.addBreakpointWithScriptUri(this.ref.id,t,s.line,s.column)).result;return null===(r=this.vmBps[t])||void 0===r||r.push(e),this.breakpoints[e.id]=s,e}catch(t){return void e.error(t,n.LogCategory.VmService)}}))))}))}receivedPauseStart(){this.gotPauseStart=!0,this.paused=!0,this.checkResume()}setInitialBreakpoints(){this.initialBreakpoints=!0,this.checkResume()}receivedConfigurationDone(){this.hasConfigurationDone=!0,this.checkResume()}checkResume(){this.paused&&this.gotPauseStart&&this.initialBreakpoints&&this.hasConfigurationDone&&this.resume()}handleResumed(){this.manager.removeStoredData(this),this.atAsyncSuspension=!1,this.exceptionReference=0,this.paused=!1}resume(e,t){return r(this,void 0,void 0,(function*(){if(this.paused&&!this.hasPendingResume&&this.manager.debugSession.vmService){this.hasPendingResume=!0;try{yield this.manager.debugSession.vmService.resume(this.ref.id,e,t),this.handleResumed()}finally{this.hasPendingResume=!1}}}))}getScript(e){const t=e.id;if(this.scriptCompleters[t]){return this.scriptCompleters[t].promise}{const s=new o.PromiseCompleter;return this.scriptCompleters[t]=s,this.manager.debugSession.vmService?this.manager.debugSession.vmService.getObject(this.ref.id,e.id).then(e=>{const t=e.result;s.resolve(t)}).catch(e=>{s.reject(e)}):s.reject("VM service connection is no longer available"),s.promise}}storeData(e){return this.manager.storeData(this,e)}handlePaused(e,t){this.atAsyncSuspension=!0===e,t&&(t.evaluateName="$e",this.exceptionReference=this.storeData(t)),this.paused=!0}}t.ThreadInfo=c},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatPathForVm=void 0;const r=s(1);t.formatPathForVm=function(e){return(e=(e=(e=(e=r.forceWindowsDriveLetterToUppercase(e)).replace(/\\/g,"/")).replace(/^file:\/+/,"")).replace(/^\/+/,"")).startsWith("dart:")?e:"file:///"+encodeURI(e)}},function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TestRunner=void 0;const i=s(41);class n extends i.StdIOService{constructor(e,t,s,r,i,n,o){super(n,o,!0,!0,!0,i),this.unhandledMessageSubscriptions=[],this.testStartedProcessSubscriptions=[],this.allTestNotificationsSubscriptions=[],this.createProcess(t,e,s,r)}shouldHandleMessage(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[{")&&e.endsWith("}]")}isNotification(e){return!(!e.type&&!e.event)}isResponse(e){return!1}processUnhandledMessage(e){return r(this,void 0,void 0,(function*(){yield this.notify(this.unhandledMessageSubscriptions,e)}))}registerForUnhandledMessages(e){return this.subscribe(this.unhandledMessageSubscriptions,e)}handleNotification(e){return r(this,void 0,void 0,(function*(){switch(e.event){case"test.startedProcess":yield this.notify(this.testStartedProcessSubscriptions,e.params)}yield this.notify(this.allTestNotificationsSubscriptions,e)}))}registerForTestStartedProcess(e){return this.subscribe(this.testStartedProcessSubscriptions,e)}registerForAllTestNotifications(e){return this.subscribe(this.allTestNotificationsSubscriptions,e)}}t.TestRunner=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticsNodeStyle=t.DiagnosticsNodeLevel=t.DiagnosticsNodeType=void 0,function(e){e.ErrorDescription="ErrorDescription",e.ErrorSpacer="ErrorSpacer",e.DiagnosticsStackTrace="DiagnosticsStackTrace"}(t.DiagnosticsNodeType||(t.DiagnosticsNodeType={})),function(e){e.Error="error",e.Summary="summary",e.Hint="hint"}(t.DiagnosticsNodeLevel||(t.DiagnosticsNodeLevel={})),function(e){e.Flat="flat",e.Shallow="shallow"}(t.DiagnosticsNodeStyle||(t.DiagnosticsNodeStyle={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlutterRun=void 0;const r=s(8),i=s(13),n=s(3),o=s(65);class a extends o.RunDaemonBase{constructor(e,t,s,a,c,l,u,h,d,p,g){super(e,h,new i.CategoryLogger(d,r.LogCategory.FlutterRun),p,g,!0,!0);const f=e===o.RunMode.Attach?"attach":"run",{binPath:m,binArgs:v}=n.usingCustomScript(t,[f,"--machine"],e===o.RunMode.Run?(null==s?void 0:s.flutterRunScript)||(null==s?void 0:s.flutterScript):void 0);this.createProcess(c,m,a.concat(v).concat(l),u)}}t.FlutterRun=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlutterTestDebugSession=void 0;const r=s(8),i=s(3),n=s(106),o=s(64);class a extends n.DartTestDebugSession{spawnProcess(e){var t,s;let n=[];this.shouldConnectDebugger&&n.push("--start-paused"),e.args&&(n=n.concat(e.args)),e.program&&n.push(this.sourceFileForArgs(e));const{binPath:a,binArgs:c}=i.usingCustomScript(e.flutterPath,["test","--machine"],(null===(t=e.workspaceConfig)||void 0===t?void 0:t.flutterTestScript)||(null===(s=e.workspaceConfig)||void 0===s?void 0:s.flutterScript)),l=new o.DebugAdapterLogger(this,r.LogCategory.FlutterTest);return this.createRunner(a,e.cwd,e.program,(e.globalFlutterArgs||[]).concat(c).concat(n),e.env,e.flutterTestLogFile,l,e.maxLogLineLength)}}t.FlutterTestDebugSession=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebDebugSession=void 0;const r=s(8),i=s(138),n=s(65),o=s(294);class a extends i.FlutterDebugSession{constructor(){super(),this.supportsObservatoryWebApp=!1,this.logCategory=r.LogCategory.WebDaemon}spawnRunDaemon(e,t,s){let r=[];return t.args&&(r=r.concat(t.args)),new o.WebRun(e?n.RunMode.Attach:n.RunMode.Run,t.pubPath,t.cwd,r,{envOverrides:t.env,toolEnv:this.toolEnv},t.webDaemonLogFile,s,e=>this.exposeUrl(e),this.maxLogLineLength)}}t.WebDebugSession=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebRun=void 0;const r=s(65);class i extends r.RunDaemonBase{constructor(e,t,s,r,i,n,o,a,c){super(e,n,o,a,c,!0,!0),this.createProcess(s,t,["global","run","webdev","daemon"].concat(r),i)}}t.WebRun=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebTestDebugSession=void 0;const r=s(106);class i extends r.DartTestDebugSession{spawnProcess(e){}}t.WebTestDebugSession=i}]);
//# sourceMappingURL=debug.js.map